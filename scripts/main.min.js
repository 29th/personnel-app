var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[r]=t:(e[r]||(e[r]={}),mixin(e[r],t,n,i)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n,i=e.length;for(t=0;i>t;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,a,s,o,l,c,h,u,p,d,m,f=n&&n.split("/"),g=f,v=S.map,b=v&&v["*"];if(e&&"."===e.charAt(0)&&(n?(g=f.slice(0,f.length-1),e=e.split("/"),h=e.length-1,S.nodeIdCompat&&jsSuffixRegExp.test(e[h])&&(e[h]=e[h].replace(jsSuffixRegExp,"")),e=g.concat(e),t(e),e=e.join("/")):0===e.indexOf("./")&&(e=e.substring(2))),i&&v&&(f||b)){s=e.split("/");e:for(o=s.length;o>0;o-=1){if(c=s.slice(0,o).join("/"),f)for(l=f.length;l>0;l-=1)if(a=getOwn(v,f.slice(0,l).join("/")),a&&(a=getOwn(a,c))){u=a,p=o;break e}!d&&b&&getOwn(b,c)&&(d=getOwn(b,c),m=o)}!u&&d&&(u=d,p=m),u&&(s.splice(0,p,u),e=s.join("/"))}return r=getOwn(S.pkgs,e),r?r:e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===A.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(S.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),A.require.undef(e),A.require([e]),!0):void 0}function a(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,i,r){var s,o,l,c,h=null,u=t?t.name:null,p=e,d=!0,m="";return e||(d=!1,e="_@r"+(C+=1)),c=a(e),h=c[0],e=c[1],h&&(h=n(h,u,r),o=getOwn(I,h)),e&&(h?m=o&&o.normalize?o.normalize(e,function(e){return n(e,u,r)}):n(e,u,r):(m=n(e,u,r),c=a(m),h=c[0],m=c[1],i=!0,s=A.nameToUrl(m))),l=!h||o||i?"":"_unnormalized"+(M+=1),{prefix:h,name:m,parentMap:t,unnormalized:!!l,url:s,originalName:p,isDefine:d,id:(h?h+"!"+m:m)+l}}function o(e){var t=e.id,n=getOwn(E,t);return n||(n=E[t]=new A.Module(e)),n}function l(e,t,n){var i=e.id,r=getOwn(E,i);!hasProp(I,i)||r&&!r.defineEmitComplete?(r=o(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(I[i])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(E,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function h(){globalDefQueue.length&&(apsp.apply(k,[k.length,0].concat(globalDefQueue)),globalDefQueue=[])}function u(e){delete E[e],delete _[e]}function p(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var a=i.id,s=getOwn(E,a);!s||e.depMatched[r]||n[a]||(getOwn(t,a)?(e.defineDep(r,I[a]),e.check()):p(s,t,n))}),n[i]=!0)}function d(){var e,t,n=1e3*S.waitSeconds,a=n&&A.startTime+n<(new Date).getTime(),s=[],o=[],l=!1,h=!0;if(!b){if(b=!0,eachProp(_,function(e){var n=e.map,c=n.id;if(e.enabled&&(n.isDefine||o.push(e),!e.error))if(!e.inited&&a)r(c)?(t=!0,l=!0):(s.push(c),i(c));else if(!e.inited&&e.fetched&&n.isDefine&&(l=!0,!n.prefix))return h=!1}),a&&s.length)return e=makeError("timeout","Load timeout for modules: "+s,null,s),e.contextName=A.contextName,c(e);h&&each(o,function(e){p(e,{},{})}),a&&!t||!l||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,d()},50)),b=!1}}function m(e){hasProp(I,e[0])||o(s(e[0],null,!0)).init(e[1],e[2])}function f(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return f(t,A.onScriptLoad,"load","onreadystatechange"),f(t,A.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(h();k.length;){if(e=k.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));m(e)}}var b,y,A,x,w,S={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},E={},_={},N={},k=[],I={},O={},R={},C=1,M=1;return x={require:function(e){return e.require?e.require:e.require=A.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=I[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(S.config,e.map.id)||{}},exports:x.exports(e)}}},y=function(e){this.events=getOwn(N,e.id)||{},this.map=e,this.shim=getOwn(S.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},y.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,A.startTime=(new Date).getTime();var e=this.map;return this.shim?void A.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;O[e]||(O[e]=!0,A.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=A.execCb(n,a,i,r)}catch(s){e=s}else r=A.execCb(n,a,i,r);if(this.map.isDefine&&void 0===r&&(t=this.module,t?r=t.exports:this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else r=a;this.exports=r,this.map.isDefine&&!this.ignore&&(I[n]=r,req.onResourceLoad&&req.onResourceLoad(A,this.map,this.depMaps)),u(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=s(e.prefix);this.depMaps.push(i),l(i,"defined",bind(this,function(i){var r,a,h,p=getOwn(R,this.map.id),d=this.map.name,m=this.map.parentMap?this.map.parentMap.name:null,f=A.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(d=i.normalize(d,function(e){return n(e,m,!0)})||""),a=s(e.prefix+"!"+d,this.map.parentMap),l(a,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),h=getOwn(E,a.id),void(h&&(this.depMaps.push(a),this.events.error&&h.on("error",bind(this,function(e){this.emit("error",e)})),h.enable()))):p?(this.map.url=A.nameToUrl(p),void this.load()):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(E,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&u(e.map.id)}),c(e)}),r.fromText=bind(this,function(n,i){var a=e.name,l=s(a),h=useInteractive;i&&(n=i),h&&(useInteractive=!1),o(l),hasProp(S.config,t)&&(S.config[a]=S.config[t]);try{req.exec(n)}catch(u){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+u,u,[t]))}h&&(useInteractive=!0),this.depMaps.push(l),A.completeLoad(a),f([a],r)}),void i.load(e.name,f,r,S))})),A.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){_[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(x,e.id))return void(this.depExports[t]=r(this));this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&l(e,"error",bind(this,this.errback))}n=e.id,i=E[n],hasProp(x,n)||!i||i.enabled||A.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(E,e.id);t&&!t.enabled&&A.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},A={config:S,contextName:e,registry:E,defined:I,urlFetched:O,defQueue:k,Module:y,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=S.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(S[t]||(S[t]={}),mixin(S[t],e,!0,!0)):S[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(R[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=A.makeShimExports(e)),t[n]=e}),S.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(S.paths[n]=e.location),S.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(E,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t))}),(e.deps||e.callback)&&A.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){function a(n,i,l){var h,u,p;return r.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof n?isFunction(i)?c(makeError("requireargs","Invalid require call"),l):t&&hasProp(x,n)?x[n](E[t.id]):req.get?req.get(A,n,t,a):(u=s(n,t,!1,!0),h=u.id,hasProp(I,h)?I[h]:c(makeError("notloaded",'Module name "'+h+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),A.nextTick(function(){v(),p=o(s(null,t)),p.skipMap=r.skipMap,p.init(n,i,l,{enabled:!0}),d()}),a)}return r=r||{},mixin(a,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),a=e.split("/")[0],s="."===a||".."===a;return-1!==r&&(!s||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),A.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(I,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(I,e)||hasProp(E,e)}}),t||(a.undef=function(e){h();var n=s(e,t,!0),r=getOwn(E,e);i(e),delete I[e],delete O[n.url],delete N[e],eachReverse(k,function(t,n){t[0]===e&&k.splice(n,1)}),r&&(r.events.defined&&(N[e]=r.events),u(e))}),a},enable:function(e){var t=getOwn(E,e.id);t&&o(e).enable()},completeLoad:function(e){var t,n,i,a=getOwn(S.shim,e)||{},s=a.exports;for(h();k.length;){if(n=k.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);m(n)}if(i=getOwn(E,e),!t&&!hasProp(I,e)&&i&&!i.inited){if(!(!S.enforceDefine||s&&getGlobal(s)))return r(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));m([e,a.deps||[],a.exportsFn])}d()},nameToUrl:function(e,t,n){var i,r,a,s,o,l,c,h=getOwn(S.pkgs,e);if(h&&(e=h),c=getOwn(R,e))return A.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(i=S.paths,r=e.split("/"),a=r.length;a>0;a-=1)if(s=r.slice(0,a).join("/"),l=getOwn(i,s)){isArray(l)&&(l=l[0]),r.splice(0,a,l);break}o=r.join("/"),o+=t||(/^data\:|\?/.test(o)||n?"":".js"),o=("/"===o.charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+o}return S.urlArgs?o+((-1===o.indexOf("?")?"?":"&")+S.urlArgs):o},load:function(e,t){req.load(A,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);A.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return r(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},A.require=A.makeRequire(),A}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.10",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,a,s=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=n,n=i):e=[]),a&&a.context&&(s=a.context),r=getOwn(contexts,s),r||(r=contexts[s]=req.s.newContext(s)),a&&r.configure(a),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(a){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,a,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("requireLib",function(){});var Handlebars=function(){var e=function(){function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){function t(e){return o[e]||"&amp;"}function n(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function i(e){return e instanceof s?e.toString():e||0===e?(e=""+e,c.test(e)?e.replace(l,t):e):""}function r(e){return e||0===e?p(e)&&0===e.length?!0:!1:!0}var a={},s=e,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;a.extend=n;var h=Object.prototype.toString;a.toString=h;var u=function(e){return"function"==typeof e};u(/x/)&&(u=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)});var u;a.isFunction=u;var p=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===h.call(e):!1};return a.isArray=p,a.escapeExpression=i,a.isEmpty=r,a}(e),n=function(){function e(e,t){var i;t&&t.firstLine&&(i=t.firstLine,e+=" - "+i+":"+t.firstColumn);for(var r=Error.prototype.constructor.call(this,e),a=0;a<n.length;a++)this[n[a]]=r[n[a]];i&&(this.lineNumber=i,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),i=function(e,t){function n(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new o("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse||function(){},r=n.fn;return p(t)&&(t=t.call(this)),t===!0?r(this):t===!1||null==t?i(this):u(t)?t.length>0?e.helpers.each(t,n):i(this):r(t)}),e.registerHelper("each",function(e,t){var n,i=t.fn,r=t.inverse,a=0,s="";if(p(e)&&(e=e.call(this)),t.data&&(n=g(t.data)),e&&"object"==typeof e)if(u(e))for(var o=e.length;o>a;a++)n&&(n.index=a,n.first=0===a,n.last=a===e.length-1),s+=i(e[a],{data:n});else for(var l in e)e.hasOwnProperty(l)&&(n&&(n.key=l,n.index=a,n.first=0===a),s+=i(e[l],{data:n}),a++);return 0===a&&(s=r(this)),s}),e.registerHelper("if",function(e,t){return p(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||s.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return p(e)&&(e=e.call(this)),s.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)})}function r(e,t){f.log(e,t)}var a={},s=e,o=t,l="1.3.0";a.VERSION=l;var c=4;a.COMPILER_REVISION=c;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};a.REVISION_CHANGES=h;var u=s.isArray,p=s.isFunction,d=s.toString,m="[object Object]";a.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:f,log:r,registerHelper:function(e,t,n){if(d.call(e)===m){if(n||t)throw new o("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){d.call(e)===m?s.extend(this.partials,e):this.partials[e]=t}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(f.level<=e){var n=f.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};a.logger=f,a.log=r;var g=function(e){var t={};return s.extend(t,e),t};return a.createFrame=g,a}(t,n),r=function(e,t,n){function i(e){var t=e&&e[0]||1,n=p;if(t!==n){if(n>t){var i=d[n],r=d[t];throw new u("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new u("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){if(!t)throw new u("No environment passed to template");var n=function(e,n,i,r,a,s){var o=t.VM.invokePartial.apply(this,arguments);if(null!=o)return o;if(t.compile){var l={helpers:r,partials:a,data:s};return a[n]=t.compile(e,{data:void 0!==s},t),a[n](i,l)}throw new u("The partial "+n+" could not be compiled when running in runtime-only mode")},i={escapeExpression:h.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var i=this.programs[e];return n?i=s(e,t,n):i||(i=this.programs[e]=s(e,t)),i},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},h.extend(n,t),h.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,r){r=r||{};var a,s,o=r.partial?r:t;r.partial||(a=r.helpers,s=r.partials);var l=e.call(i,o,n,a,s,r.data);return r.partial||t.VM.checkRevision(i.compilerInfo),l}}function a(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r}function s(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i}function o(e,t,n,i,r,a){var s={partial:!0,helpers:i,partials:r,data:a};if(void 0===e)throw new u("The partial "+t+" could not be found");return e instanceof Function?e(n,s):void 0}function l(){return""}var c={},h=e,u=t,p=n.COMPILER_REVISION,d=n.REVISION_CHANGES;return c.checkRevision=i,c.template=r,c.programWithDepth=a,c.program=s,c.invokePartial=o,c.noop=l,c}(t,n,i),a=function(e,t,n,i,r){var a,s=e,o=t,l=n,c=i,h=r,u=function(){var e=new s.HandlebarsEnvironment;return c.extend(e,s),e.SafeString=o,e.Exception=l,e.Utils=c,e.VM=h,e.template=function(t){return h.template(t,e)},e},p=u();return p.create=u,a=p}(i,e,n,t,r),s=function(e){function t(e){e=e||{},this.firstLine=e.first_line,this.firstColumn=e.first_column,this.lastColumn=e.last_column,this.lastLine=e.last_line}var n,i=e,r={ProgramNode:function(e,n,i,a){var s,o;3===arguments.length?(a=i,i=null):2===arguments.length&&(a=n,n=null),t.call(this,a),this.type="program",this.statements=e,this.strip={},i?(o=i[0],o?(s={first_line:o.firstLine,last_line:o.lastLine,last_column:o.lastColumn,first_column:o.firstColumn},this.inverse=new r.ProgramNode(i,n,s)):this.inverse=new r.ProgramNode(i,n),this.strip.right=n.left):n&&(this.strip.left=n.right)},MustacheNode:function(e,n,i,a,s){if(t.call(this,s),this.type="mustache",this.strip=a,null!=i&&i.charAt){var o=i.charAt(3)||i.charAt(2);this.escaped="{"!==o&&"&"!==o}else this.escaped=!!i;this.sexpr=e instanceof r.SexprNode?e:new r.SexprNode(e,n),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(e,n,i){t.call(this,i),this.type="sexpr",this.hash=n;var r=this.id=e[0],a=this.params=e.slice(1),s=this.eligibleHelper=r.isSimple;this.isHelper=s&&(a.length||n)},PartialNode:function(e,n,i,r){t.call(this,r),this.type="partial",this.partialName=e,this.context=n,this.strip=i},BlockNode:function(e,n,r,a,s){if(t.call(this,s),e.sexpr.id.original!==a.path.original)throw new i(e.sexpr.id.original+" doesn't match "+a.path.original,this);this.type="block",this.mustache=e,this.program=n,this.inverse=r,this.strip={left:e.strip.left,right:a.strip.right},(n||r).strip.left=e.strip.right,(r||n).strip.right=a.strip.left,r&&!n&&(this.isInverse=!0)},ContentNode:function(e,n){t.call(this,n),this.type="content",this.string=e},HashNode:function(e,n){t.call(this,n),this.type="hash",this.pairs=e},IdNode:function(e,n){t.call(this,n),this.type="ID";for(var r="",a=[],s=0,o=0,l=e.length;l>o;o++){var c=e[o].part;if(r+=(e[o].separator||"")+c,".."===c||"."===c||"this"===c){if(a.length>0)throw new i("Invalid path: "+r,this);".."===c?s++:this.isScoped=!0}else a.push(c)}this.original=r,this.parts=a,this.string=a.join("."),this.depth=s,this.isSimple=1===e.length&&!this.isScoped&&0===s,this.stringModeValue=this.string},PartialNameNode:function(e,n){t.call(this,n),this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e,n){t.call(this,n),this.type="DATA",this.id=e},StringNode:function(e,n){t.call(this,n),this.type="STRING",this.original=this.string=this.stringModeValue=e},IntegerNode:function(e,n){t.call(this,n),this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},BooleanNode:function(e,n){t.call(this,n),this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},CommentNode:function(e,n){t.call(this,n),this.type="comment",this.comment=e}};return n=r}(n),o=function(){var e,t=function(){function e(e,t){return{left:"~"===e.charAt(2),right:"~"===t.charAt(0)||"~"===t.charAt(1)}}function t(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(t,n,i,r,a,s){var o=s.length-1;switch(a){case 1:return new r.ProgramNode(s[o-1],this._$);case 2:return new r.ProgramNode([],this._$);case 3:this.$=new r.ProgramNode([],s[o-1],s[o],this._$);break;case 4:this.$=new r.ProgramNode(s[o-2],s[o-1],s[o],this._$);break;case 5:this.$=new r.ProgramNode(s[o-1],s[o],[],this._$);break;case 6:this.$=new r.ProgramNode(s[o],this._$);break;case 7:this.$=new r.ProgramNode([],this._$);break;case 8:this.$=new r.ProgramNode([],this._$);break;case 9:this.$=[s[o]];break;case 10:s[o-1].push(s[o]),this.$=s[o-1];break;case 11:this.$=new r.BlockNode(s[o-2],s[o-1].inverse,s[o-1],s[o],this._$);break;case 12:this.$=new r.BlockNode(s[o-2],s[o-1],s[o-1].inverse,s[o],this._$);break;case 13:this.$=s[o];break;case 14:this.$=s[o];break;case 15:this.$=new r.ContentNode(s[o],this._$);break;case 16:this.$=new r.CommentNode(s[o],this._$);break;case 17:this.$=new r.MustacheNode(s[o-1],null,s[o-2],e(s[o-2],s[o]),this._$);break;case 18:this.$=new r.MustacheNode(s[o-1],null,s[o-2],e(s[o-2],s[o]),this._$);break;case 19:this.$={path:s[o-1],strip:e(s[o-2],s[o])};break;case 20:this.$=new r.MustacheNode(s[o-1],null,s[o-2],e(s[o-2],s[o]),this._$);break;case 21:this.$=new r.MustacheNode(s[o-1],null,s[o-2],e(s[o-2],s[o]),this._$);break;case 22:this.$=new r.PartialNode(s[o-2],s[o-1],e(s[o-3],s[o]),this._$);break;case 23:this.$=e(s[o-1],s[o]);break;case 24:this.$=new r.SexprNode([s[o-2]].concat(s[o-1]),s[o],this._$);break;case 25:this.$=new r.SexprNode([s[o]],null,this._$);break;case 26:this.$=s[o];break;case 27:this.$=new r.StringNode(s[o],this._$);break;case 28:this.$=new r.IntegerNode(s[o],this._$);break;case 29:this.$=new r.BooleanNode(s[o],this._$);break;case 30:this.$=s[o];break;case 31:s[o-1].isHelper=!0,this.$=s[o-1];break;case 32:this.$=new r.HashNode(s[o],this._$);break;case 33:this.$=[s[o-2],s[o]];break;case 34:this.$=new r.PartialNameNode(s[o],this._$);break;case 35:this.$=new r.PartialNameNode(new r.StringNode(s[o],this._$),this._$);break;case 36:this.$=new r.PartialNameNode(new r.IntegerNode(s[o],this._$));break;case 37:this.$=new r.DataNode(s[o],this._$);break;case 38:this.$=new r.IdNode(s[o],this._$);break;case 39:s[o-2].push({part:s[o],separator:s[o-1]}),this.$=s[o-2];break;case 40:this.$=[{part:s[o]}];break;case 43:this.$=[];break;case 44:s[o-1].push(s[o]);break;case 47:this.$=[s[o]];break;case 48:s[o-1].push(s[o])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(e){throw new Error(e)
},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],a=[],s=this.table,o="",l=0,c=0,h=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;a.push(u);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,m,f,g,v,b,y,A,x,w={};;){if(f=i[i.length-1],this.defaultActions[f]?g=this.defaultActions[f]:((null===d||"undefined"==typeof d)&&(d=t()),g=s[f]&&s[f][d]),"undefined"==typeof g||!g.length||!g[0]){var S="";if(!h){x=[];for(b in s[f])this.terminals_[b]&&b>2&&x.push("'"+this.terminals_[b]+"'");S=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:x})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+d);switch(g[0]){case 1:i.push(d),r.push(this.lexer.yytext),a.push(this.lexer.yylloc),i.push(g[1]),d=null,m?(d=m,m=null):(c=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,h>0&&h--);break;case 2:if(y=this.productions_[g[1]][1],w.$=r[r.length-y],w._$={first_line:a[a.length-(y||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(y||1)].first_column,last_column:a[a.length-1].last_column},p&&(w._$.range=[a[a.length-(y||1)].range[0],a[a.length-1].range[1]]),v=this.performAction.call(w,o,c,l,this.yy,g[1],r,a),"undefined"!=typeof v)return v;y&&(i=i.slice(0,-1*y*2),r=r.slice(0,-1*y),a=a.slice(0,-1*y)),i.push(this.productions_[g[1]][0]),r.push(w.$),a.push(w._$),A=s[i[i.length-2]][i[i.length-1]],i.push(A);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),s=0;s<a.length&&(n=this._input.match(this.rules[a[s]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=s,this.options.flex));s++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,a[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n){function i(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return i(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return i(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return t.yytext=i(1,2).replace(/\\"/g,'"'),32;case 24:return t.yytext=i(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return t.yytext=i(1,2),40;case 31:return"INVALID";case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return n.lexer=i,t.prototype=n,n.Parser=t,new t}();return e=t}(),l=function(e,t){function n(e){return e.constructor===a.ProgramNode?e:(r.yy=a,r.parse(e))}var i={},r=e,a=t;return i.parser=r,i.parse=n,i}(o,s),c=function(e){function t(){}function n(e,t,n){if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var i=n.parse(e),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function i(e,t,n){function i(){var i=n.parse(e),r=(new n.Compiler).compile(i,t),a=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(a)}if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var r;return function(e,t){return r||(r=i()),r.call(this,e,t)}}var r={},a=e;return r.Compiler=t,t.prototype={compiler:t,disassemble:function(){for(var e,t,n,i=this.opcodes,r=[],a=0,s=i.length;s>a;a++)if(e=i[a],"DECLARE"===e.opcode)r.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var o=0;o<e.args.length;o++)n=e.args[o],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);r.push(e.opcode+" "+t.join(" "))}return r.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||i.args.length!==r.args.length)return!1;for(var a=0;a<i.args.length;a++)if(i.args[a]!==r.args[a])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(e)},accept:function(e){var t,n=e.strip||{};return n.left&&this.opcode("strip"),t=this[e.type](e),n.right&&this.opcode("strip"),t},program:function(e){for(var t=e.statements,n=0,i=t.length;i>n;n++)this.accept(t[n]);return this.isSimple=1===i,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,a=n.depths.list.length;a>r;r++)t=n.depths.list[r],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=t.sexpr,a=this.classifySexpr(r);"helper"===a?this.helperSexpr(r,n,i):"simple"===a?(this.simpleSexpr(r),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(r,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("pushHash");for(var r=0,a=i.length;a>r;r++)t=i[r],n=t[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type),"sexpr"===n.type&&this.sexpr(n)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){this.sexpr(e.sexpr),this.opcode(e.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(e,t,n){var i=e.id,r=i.parts[0],a=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",r,a)},simpleSexpr:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new a("You specified knownHelpersOnly, but used the unknown helper "+r,e);this.opcode("invokeHelper",i.length,r,e.isRoot)}},sexpr:function(e){var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,i=e.parts.length;i>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new a("Scoped data references are not supported: "+e.original,e);this.opcode("lookupData");for(var t=e.id.parts,n=0,i=t.length;i>n;n++)this.opcode("lookup",t[n])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifySexpr:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var r=e.id.parts[0];i.knownHelpers[r]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type),"sexpr"===t.type&&this.sexpr(t)):this[t.type](t)},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),i}},r.precompile=n,r.compile=i,r}(n),h=function(e,t){function n(e){this.value=e}function i(){}var r,a=e.COMPILER_REVISION,s=e.REVISION_CHANGES,o=e.log,l=t;i.prototype={nameLookup:function(e,t){var n,r;return 0===e.indexOf("depth")&&(n=!0),r=/^[0-9]+$/.test(t)?e+"["+t+"]":i.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']",n?"("+e+" && "+r+")":r},compilerInfo:function(){var e=a,t=s[e];return"this.compilerInfo = ["+e+",'"+t+"'];\n"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,i){this.environment=e,this.options=t||{},o("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var r,a=e.opcodes;this.i=0;for(var s=a.length;this.i<s;this.i++)r=a[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args),r.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(i)},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n)}e.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);if(t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,a=this.environment.depths.list.length;a>r;r++)i.push("depth"+this.environment.depths.list[r]);var s=this.mergeSource();if(this.isChild||(s=this.compilerInfo()+s),e)return i.push(s),Function.apply(this,i);var l="function "+(this.name||"")+"("+i.join(",")+") {\n  "+s+"}";return o("debug",l+"\n\n"),l},mergeSource:function(){for(var e,t="",n=0,i=this.source.length;i>n;n++){var r=this.source[n];r.appendToBuffer?e=e?e+"\n    + "+r.content:r.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=r+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.stripNext&&(e=e.replace(/^\s+/,"")),this.pendingContent=e},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"sexpr"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+e.contexts.join(",")+"}"),this.push("{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){this.pushStackLiteral(null!=e?this.programExpression(e):null)},invokeHelper:function(e,t,n){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var i=this.lastHelper=this.setupHelper(e,t,!0),r=this.nameLookup("depth"+this.lastContext,t,"context"),a="helper = "+i.name+" || "+r;i.paramsInit&&(a+=","+i.paramsInit),this.push("("+a+",helper ? helper.call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+"))"),n||this.flushInline()},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var n=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),r=this.nameLookup("depth"+this.lastContext,e,"context"),a=this.nextStack();n.paramsInit&&this.pushSource(n.paramsInit),this.pushSource("if (helper = "+i+") { "+a+" = helper.call("+n.callParams+"); }"),this.pushSource("else { helper = "+r+"; "+a+" = typeof helper === functionType ? helper.call("+n.callParams+") : helper; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var r=this.hash;t&&r.contexts.push("'"+e+"': "+t),n&&r.types.push("'"+e+"': "+n),r.values.push("'"+e+"': ("+i+")")},compiler:i,compileChildren:function(e,t){for(var n,i,r=e.children,a=0,s=r.length;s>a;a++){n=r[a],i=new this.compiler;var o=this.matchExistingProgram(n);null==o?(this.context.programs.push(""),o=this.context.programs.length,n.index=o,n.name="program"+o,this.context.programs[o]=i.compile(n,t,this.context),this.context.environments[o]=n):(n.index=o,n.name="program"+o)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],i=n.depths.list,r=[n.index,n.name,"data"],a=0,s=i.length;s>a;a++)t=i[a],r.push(1===t?"depth0":"depth"+(t-1));return(0===i.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(e,t){this.useRegister(e),this.pushSource(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new n(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,i,r,a="",s=this.isInline();if(s){var o=this.popStack(!0);if(o instanceof n)t=o.value,r=!0;else{i=!this.stackSlot;var l=i?this.incrStack():this.topStackName();a="("+this.push(l)+" = "+o+"),",t=this.topStack()}}else t=this.topStack();var c=e.call(this,t);return s?(r||this.popStack(),i&&this.stackSlot--,this.push("("+a+c+")")):(/^stack/.test(t)||(t=this.nextStack()),this.pushSource(t+" = ("+a+c+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,i=e.length;i>t;t++){var r=e[t];r instanceof n?this.compileStack.push(r):this.pushStack(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();if(!e&&i instanceof n)return i.value;if(!t){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return i},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,i=t[t.length-1];return!e&&i instanceof n?i.value:i},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var i=[],r=this.setupParams(e,i,n),a=this.nameLookup("helpers",t,"helper");return{params:i,paramsInit:r,name:a,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(i).join(", ")}},setupOptions:function(e,t){var n,i,r,a=[],s=[],o=[];a.push("hash:"+this.popStack()),this.options.stringParams&&(a.push("hashTypes:"+this.popStack()),a.push("hashContexts:"+this.popStack())),i=this.popStack(),r=this.popStack(),(r||i)&&(r||(this.context.aliases.self="this",r="self.noop"),i||(this.context.aliases.self="this",i="self.noop"),a.push("inverse:"+i),a.push("fn:"+r));for(var l=0;e>l;l++)n=this.popStack(),t.push(n),this.options.stringParams&&(o.push(this.popStack()),s.push(this.popStack()));return this.options.stringParams&&(a.push("contexts:["+s.join(",")+"]"),a.push("types:["+o.join(",")+"]")),this.options.data&&a.push("data:data"),a},setupParams:function(e,t,n){var i="{"+this.setupOptions(e,t).join(",")+"}";return n?(this.useRegister("options"),t.push("options"),"options="+i):(t.push(i),"")}};for(var c="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),h=i.RESERVED_WORDS={},u=0,p=c.length;p>u;u++)h[c[u]]=!0;return i.isValidJavaScriptVariableName=function(e){return!i.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)?!0:!1},r=i}(i,n),u=function(e,t,n,i,r){var a,s=e,o=t,l=n.parser,c=n.parse,h=i.Compiler,u=i.compile,p=i.precompile,d=r,m=s.create,f=function(){var e=m();return e.compile=function(t,n){return u(t,n,e)},e.precompile=function(t,n){return p(t,n,e)},e.AST=o,e.Compiler=h,e.JavaScriptCompiler=d,e.Parser=l,e.parse=c,e};return s=f(),s.create=f,a=s}(a,s,l,c,h);return u}();define("handlebars",function(e){return function(){var t;return t||e.Handlebars}}(this)),function(e,t){"function"==typeof define&&define.amd?define("nprogress",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.gulpWrapUmd=t(e.jquery)}(this,function(){return function(e){"function"==typeof module?module.exports=e(this.jQuery||require("jquery")):this.NProgress=e(this.jQuery)}(function(e){function t(e,t,n){return t>e?t:e>n?n:e}function n(e){return 100*(-1+e)}function i(e,t,i){var r;return r="translate3d"===a.positionUsing?{transform:"translate3d("+n(e)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+n(e)+"%,0)"}:{"margin-left":n(e)+"%"},r.transition="all "+t+"ms "+i,r}var r={};r.version="0.1.2";var a=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};return r.configure=function(t){return e.extend(a,t),this},r.status=null,r.set=function(e){var n=r.isStarted();e=t(e,a.minimum,1),r.status=1===e?null:e;var s=r.render(!n),o=s.find('[role="bar"]'),l=a.speed,c=a.easing;return s[0].offsetWidth,s.queue(function(t){""===a.positionUsing&&(a.positionUsing=r.getPositioningCSS()),o.css(i(e,l,c)),1===e?(s.css({transition:"none",opacity:1}),s[0].offsetWidth,setTimeout(function(){s.css({transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){r.remove(),t()},l)},l)):setTimeout(t,l)}),this},r.isStarted=function(){return"number"==typeof r.status},r.start=function(){r.status||r.set(0);var e=function(){setTimeout(function(){r.status&&(r.trickle(),e())},a.trickleSpeed)};return a.trickle&&e(),this},r.done=function(e){return e||r.status?r.inc(.3+.5*Math.random()).set(1):this},r.inc=function(e){var n=r.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),r.set(n)):r.start()},r.trickle=function(){return r.inc(Math.random()*a.trickleRate)},r.render=function(t){if(r.isRendered())return e("#nprogress");e("html").addClass("nprogress-busy");var i=e("<div id='nprogress'>").html(a.template),s=t?"-100":n(r.status||0);return i.find('[role="bar"]').css({transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),a.showSpinner||i.find('[role="spinner"]').remove(),i.appendTo(document.body),i},r.remove=function(){e("html").removeClass("nprogress-busy"),e("#nprogress").remove()},r.isRendered=function(){return e("#nprogress").length>0},r.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},r}),NProgress}),define("util",["jquery","underscore","handlebars","nprogress"],function(e,t,n,i){var r={};return r.loading=function(e){void 0!==e&&e?i.start():i.done()},r.scrollToTop=function(){e(window).scrollTop(0)},r.formatNumber=function(e,t){return isNaN(e)||null===e?e:(void 0!==t&&(e=t?Math.round(100*e)/100:Math.round(e)),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))},r.toLowerCase=function(e){return e&&"string"==typeof e?e.toLowerCase():e},n.registerHelper("toLowerCase",r.toLowerCase),e.fn.serializeObject=function(){var t={},n=this.serializeArray();return e.each(n,function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},r}),define("config",[],function(){var e={apiHost:"http://api.29th.org"};return e}),define("models/member",["jquery","underscore","backbone","config"],function(e,t,n,i){var r=n.Model.extend({url:function(){return i.apiHost+"/members/"+this.id},parse:function(e){return e.member||{}}});return r}),define("models/user",["jquery","underscore","backbone","config"],function(e,t,n,i){var r=n.Model.extend({url:i.apiHost+"/user",parse:function(e){return e.user||{}}});return r}),define("models/event",["jquery","underscore","backbone","config"],function(e,t,n,i){var r=n.Model.extend({url:function(){return i.apiHost+"/events/"+this.id},parse:function(e){return e.event||{}}});return r}),define("models/enlistment",["jquery","underscore","backbone","config"],function(e,t,n,i){return n.Model.extend({url:function(){return i.apiHost+"/enlistments"+(this.id?"/"+this.id:"")},parse:function(e){return e.enlistment||{}}})}),define("collections/units",["jquery","underscore","backbone","config"],function(e,t,n,i){var r=n.Model.extend({initialize:function(){this.get("children")&&this.set("children",new a(this.get("children")))}}),a=n.Collection.extend({model:r,initialize:function(e,t){t=t||{},this.filter=t.filter||!1,this.children=t.children||!1,this.members=t.members||!1,this.active=t.active||!1},url:function(){var n={},r=i.apiHost+"/units";return this.filter&&(r+="/"+encodeURIComponent(this.filter)),this.children&&(n.children=this.children),this.members&&(n.members=this.members),this.active&&(n.active=this.active),t.isEmpty(n)||(r+="?"+e.param(n)),r},parse:function(e){return[e.unit]||[]}});return a}),define("collections/assignments",["jquery","underscore","backbone","config"],function(e,t,n,i){var r=n.Collection.extend({initialize:function(e,t){t=t||{},this.member_id=t.member_id||!1,this.current=t.current||!1},url:function(){var e=i.apiHost+(this.member_id?"/members/"+this.member_id:"/user/")+"/assignments";return this.current&&(e+="?current=true"),e},parse:function(e){return e.assignments||[]}});return r}),define("collections/permissions",["jquery","underscore","backbone","config"],function(e,t,n,i){var r=n.Collection.extend({initialize:function(e,t){t=t||{},this.member_id=t.member_id||!1,this.unit_id=t.unit_id||!1},url:function(){var e=i.apiHost+"/user/permissions";return this.member_id?e+="/members/"+this.member_id:this.unit_id&&(e+="/units/"+this.unit_id),e},parse:function(e){return e.permissions||[]}});return r}),define("collections/promotions",["jquery","underscore","backbone","config"],function(e,t,n,i){var r=n.Collection.extend({initialize:function(e,t){t=t||{},this.member_id=t.member_id||!1},url:function(){return i.apiHost+"/members/"+this.member_id+"/promotions"},parse:function(e){return e.promotions||[]}});return r}),define("collections/awardings",["jquery","underscore","backbone","config"],function(e,t,n,i){var r=n.Collection.extend({initialize:function(e,t){t=t||{},this.member_id=t.member_id||!1
},url:function(){return i.apiHost+"/members/"+this.member_id+"/awardings"},parse:function(e){return e.awardings||[]}});return r}),define("collections/member_enlistments",["jquery","underscore","backbone","config"],function(e,t,n,i){return n.Collection.extend({initialize:function(e,t){t=t||{},this.member_id=t.member_id||!1},url:function(){return i.apiHost+"/members/"+this.member_id+"/enlistments"},parse:function(e){return e.enlistments||[]}})}),define("models/event_attendee",["jquery","underscore","backbone"],function(e,t,n){return n.Model.extend({initialize:function(){var e=this.get("attended"),t=this.get("absent")||null,n=this.get("excused");this.set("attended",null!==e?parseInt(e,10):e),this.set("excused",null!==n?parseInt(n,10):n),null!==t&&this.set("absent",parseInt(t,10))}})}),define("collections/member_attendance",["jquery","underscore","backbone","config","models/event_attendee"],function(e,t,n,i,r){return n.Collection.extend({settings:{limit:15},model:r,initialize:function(e,t){t=t||{},this.member_id=t.member_id||!1,this.skip=0},url:function(){var e=i.apiHost+"/members/"+this.member_id+"/attendance";return this.skip&&(e+="?skip="+this.skip),e},nextPage:function(){return this.skip+=this.settings.limit,this},parse:function(e){return this.more=parseInt(e.count,10)>parseInt(e.skip,10)+e.attendance.length,e.attendance||[]}})}),define("collections/event_attendance",["jquery","underscore","backbone","config","models/event_attendee"],function(e,t,n,i,r){return n.Collection.extend({model:r,initialize:function(e,t){t=t||{},this.id=t.id||null},url:function(){return i.apiHost+"/events/"+this.id+"/excuse"}})}),define("collections/unit_attendance",["jquery","underscore","backbone","config","models/event_attendee"],function(e,t,n,i,r){return n.Collection.extend({settings:{limit:15},model:r,initialize:function(e,t){t=t||{},this.filter=t.filter||!1,this.skip=0},url:function(){var e=i.apiHost+"/units/"+this.filter+"/attendance";return this.skip&&(e+="?skip="+this.skip),e},nextPage:function(){return this.skip+=this.settings.limit,this},parse:function(e){return this.more=parseInt(e.count,10)>parseInt(e.skip,10)+e.attendance.length,e.attendance||[]}})}),define("collections/qualifications",["jquery","underscore","backbone","config"],function(e,t,n,i){var r=n.Collection.extend({initialize:function(e,t){t=t||{},this.member_id=t.member_id||!1},url:function(){return i.apiHost+"/members/"+this.member_id+"/qualifications"},parse:function(e){return e.qualifications||[]}});return r}),define("collections/events",["jquery","underscore","backbone","config"],function(e,t,n,i){var r=n.Collection.extend({initialize:function(e,t){t=t||{},this.from=t.from||!1,this.to=t.to||!1},url:function(){var t=i.apiHost+"/events";return this.from&&this.to&&(t+="?"+e.param({from:this.from,to:this.to})),t},parse:function(e){return e.events||[]}});return r}),define("collections/enlistments",["jquery","underscore","backbone","config"],function(e,t,n,i){return n.Collection.extend({settings:{limit:15},initialize:function(e,t){t=t||{},this.skip=0},url:function(){var n={},r=i.apiHost+"/enlistments";return this.skip&&(n.skip=this.skip),this.status&&(n.status=this.status),t.isEmpty(n)||(r+="?"+e.param(n)),r},setFilter:function(e,t){return this[e]=t,this},nextPage:function(){return this.skip+=this.settings.limit,this},parse:function(e){return this.more=parseInt(e.count,10)>parseInt(e.skip,10)+e.enlistments.length,e.enlistments||[]}})}),define("hbs",["handlebars"],function(e){var t={},n=".hbs";return{load:function(i,r,a,s){var o=s.hbs&&s.hbs.templateExtension?s.hbs.templateExtension:n;if(s.isBuild){var l=nodeRequire("fs"),c=s.dirBaseUrl+"/"+i+o;t[i]=l.readFileSync(c).toString(),a()}else r(["text!"+i+o],function(t){a(e.compile(t))})},write:function(n,i,r){var a=e.precompile(t[i]);r("define('hbs!"+i+"', ['handlebars'], function(Handlebars){ \nreturn Handlebars.template("+a.toString()+");\n});\n")}}}),define("hbs!templates/member",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e){var t,n="";return n+='<div class="col-sm-1"><img src="images/ranks/60x60/'+g((t=e&&e.rank,t=null==t||t===!1?t:t.filename,typeof t===f?t.apply(e):t))+'.png" title="'+g((t=e&&e.rank,t=null==t||t===!1?t:t.name,typeof t===f?t.apply(e):t))+'"></div>'}function s(){return"9"}function o(){return"10"}function l(e){var t,n="";return n+="<li>"+g((t=e&&e.position,t=null==t||t===!1?t:t.name,typeof t===f?t.apply(e):t))+', <a href="#units/'+g((t=e&&e.unit,t=null==t||t===!1?t:t.key,typeof t===f?t.apply(e):t))+'">'+g((t=e&&e.unit,t=null==t||t===!1?t:t.name,typeof t===f?t.apply(e):t))+"</a></li>"}function c(e){var t,n="";return n+="\n                <li>"+g((t=e&&e.position,t=null==t||t===!1?t:t.name,typeof t===f?t.apply(e):t))+', <a href="#units/'+g((t=e&&e.unit,t=null==t||t===!1?t:t.key,typeof t===f?t.apply(e):t))+'">'+g((t=e&&e.unit,t=null==t||t===!1?t:t.name,typeof t===f?t.apply(e):t))+"</a></li>\n            "}function h(){return' class="active"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var u,p,d,m="",f="function",g=this.escapeExpression,v=this,b=n.helperMissing;return m+='<div class="row header">\n    ',u=n["if"].call(t,(u=t&&t.rank,null==u||u===!1?u:u.filename),{hash:{},inverse:v.noop,fn:v.program(1,a,r),data:r}),(u||0===u)&&(m+=u),m+='\n    <div class="col-sm-',u=n["if"].call(t,(u=t&&t.rank,null==u||u===!1?u:u.filename),{hash:{},inverse:v.program(5,o,r),fn:v.program(3,s,r),data:r}),(u||0===u)&&(m+=u),m+='">\n        <div class="title">'+g((u=t&&t.rank,u=null==u||u===!1?u:u.name,typeof u===f?u.apply(t):u))+" ",(p=n.full_name)?u=p.call(t,{hash:{},data:r}):(p=t&&t.full_name,u=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(u)+'</div>\n        <ul class="assignments">\n            ',u=n["if"].call(t,(u=t&&t.position,null==u||u===!1?u:u.name),{hash:{},inverse:v.noop,fn:v.program(7,l,r),data:r}),(u||0===u)&&(m+=u),m+="\n            ",u=n.each.call(t,t&&t.assignments,{hash:{},inverse:v.noop,fn:v.program(9,c,r),data:r}),(u||0===u)&&(m+=u),m+='\n        </ul>\n    </div>\n    <div class="col-sm-2" id="admin"></div>\n</div>\n<div class="row">\n    <div class="col-sm-12">\n        <ul class="nav nav-tabs">\n            <li',p=n.if_eq||t&&t.if_eq,d={hash:{compare:"profile"},inverse:v.noop,fn:v.program(11,h,r),data:r},u=p?p.call(t,t&&t.highlight,d):b.call(t,"if_eq",t&&t.highlight,d),(u||0===u)&&(m+=u),m+=' data-highlight="profile"><a href="#members/',(p=n.id)?u=p.call(t,{hash:{},data:r}):(p=t&&t.id,u=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(u)+'">Profile</a></li>\n            <li',p=n.if_eq||t&&t.if_eq,d={hash:{compare:"servicerecord"},inverse:v.noop,fn:v.program(11,h,r),data:r},u=p?p.call(t,t&&t.highlight,d):b.call(t,"if_eq",t&&t.highlight,d),(u||0===u)&&(m+=u),m+=' data-highlight="servicerecord"><a href="#members/',(p=n.id)?u=p.call(t,{hash:{},data:r}):(p=t&&t.id,u=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(u)+'/servicerecord">Service Record</a></li>\n            <li',p=n.if_eq||t&&t.if_eq,d={hash:{compare:"attendance"},inverse:v.noop,fn:v.program(11,h,r),data:r},u=p?p.call(t,t&&t.highlight,d):b.call(t,"if_eq",t&&t.highlight,d),(u||0===u)&&(m+=u),m+=' data-highlight="attendance"><a href="#members/',(p=n.id)?u=p.call(t,{hash:{},data:r}):(p=t&&t.id,u=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(u)+'/attendance">Attendance</a></li>\n            <li',p=n.if_eq||t&&t.if_eq,d={hash:{compare:"qualifications"},inverse:v.noop,fn:v.program(11,h,r),data:r},u=p?p.call(t,t&&t.highlight,d):b.call(t,"if_eq",t&&t.highlight,d),(u||0===u)&&(m+=u),m+=' data-highlight="qualifications"><a href="#members/',(p=n.id)?u=p.call(t,{hash:{},data:r}):(p=t&&t.id,u=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(u)+'/qualifications">Qualifications</a></li>\n        </ul>\n    </div>\n</div>\n<div class="row">\n    <div class="col-sm-12" id="page"></div>\n</div>'})}),define("views/member",["jquery","underscore","backbone","hbs!templates/member","marionette"],function(e,t,n,i){return n.Marionette.Layout.extend({template:i,className:"member",initialize:function(e){e=e||{},this.assignments=e.assignments||{}},modelEvents:{},regions:{adminRegion:"#admin",pageRegion:"#page"},onRender:function(){this.model.get("short_name")&&(this.title=this.model.get("short_name"))},setHighlight:function(e){this.highlight=e,this.$(".nav li").removeClass("active"),e&&this.$('.nav li[data-highlight="'+e+'"]').addClass("active")},serializeData:function(){var e=this.model.get("primary_assignment_id"),n=this.assignments.toJSON().filter(function(t){return(null===t.end_date||Date.parse(t.end_date)>=new Date)&&t.id!==e});return t.extend({assignments:n,highlight:this.highlight},this.model.toJSON())}})}),define("hbs!templates/unit",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(){return' class="active"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l,c="",h="function",u=this.escapeExpression,p=this,d=n.helperMissing;return c+='<div class="row header">\n    <div class="col-sm-10">\n        <div class="title">',(o=n.name)?s=o.call(t,{hash:{},data:r}):(o=t&&t.name,s=typeof o===h?o.call(t,{hash:{},data:r}):o),c+=u(s)+" <abbr>(",(o=n.abbr)?s=o.call(t,{hash:{},data:r}):(o=t&&t.abbr,s=typeof o===h?o.call(t,{hash:{},data:r}):o),c+=u(s)+')</abbr></div>\n    </div>\n    <div class="col-sm-2" id="admin"></div>\n</div>\n<div class="row">\n    <div class="col-sm-12">\n        <ul class="nav nav-tabs">\n            <li',o=n.if_eq||t&&t.if_eq,l={hash:{compare:"roster"},inverse:p.noop,fn:p.program(1,a,r),data:r},s=o?o.call(t,t&&t.highlight,l):d.call(t,"if_eq",t&&t.highlight,l),(s||0===s)&&(c+=s),c+=' data-highlight="roster"><a href="#units/',(o=n.unit_key)?s=o.call(t,{hash:{},data:r}):(o=t&&t.unit_key,s=typeof o===h?o.call(t,{hash:{},data:r}):o),c+=u(s)+'">Roster</a></li>\n            <li',o=n.if_eq||t&&t.if_eq,l={hash:{compare:"attendance"},inverse:p.noop,fn:p.program(1,a,r),data:r},s=o?o.call(t,t&&t.highlight,l):d.call(t,"if_eq",t&&t.highlight,l),(s||0===s)&&(c+=s),c+=' data-highlight="attendance"><a href="#units/',(o=n.unit_key)?s=o.call(t,{hash:{},data:r}):(o=t&&t.unit_key,s=typeof o===h?o.call(t,{hash:{},data:r}):o),c+=u(s)+'/attendance">Attendance</a></li>\n            <!--<li',o=n.if_eq||t&&t.if_eq,l={hash:{compare:"qualifications"},inverse:p.noop,fn:p.program(1,a,r),data:r},s=o?o.call(t,t&&t.highlight,l):d.call(t,"if_eq",t&&t.highlight,l),(s||0===s)&&(c+=s),c+=' data-highlight="qualifications"><a href="#members/',(o=n.unit_key)?s=o.call(t,{hash:{},data:r}):(o=t&&t.unit_key,s=typeof o===h?o.call(t,{hash:{},data:r}):o),c+=u(s)+'/qualifications">Qualifications</a></li>-->\n        </ul>\n    </div>\n</div>\n<div class="row">\n    <div class="col-sm-12" id="page"></div>\n</div>'})}),define("views/unit",["jquery","underscore","backbone","hbs!templates/unit","marionette"],function(e,t,n,i){return n.Marionette.Layout.extend({template:i,className:"unit",title:"Unit",initialize:function(e){e=e||{}},modelEvents:{change:"render"},regions:{adminRegion:"#admin",pageRegion:"#page"},setHighlight:function(e){this.highlight=e,this.$(".nav li").removeClass("active"),e&&this.$('.nav li[data-highlight="'+e+'"]').addClass("active")},serializeData:function(){return t.extend({highlight:this.highlight},this.collection.at(0).toJSON())}})}),define("hbs!templates/roster",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return a+='\n<div class="row">\n    <div class="col-xs-8 col-sm-4 abbr">',(r=n.abbr)?i=r.call(e,{hash:{},data:t}):(r=e&&e.abbr,i=typeof r===p?r.call(e,{hash:{},data:t}):r),a+=d(i)+'</div>\n    <div class="col-xs-4 col-sm-8 count">('+d((i=e&&e.members,i=null==i||i===!1?i:i.length,typeof i===p?i.apply(e):i))+")</div>\n</div>\n    ",i=n.each.call(e,e&&e.members,{hash:{},inverse:f.noop,fn:f.program(2,s,t),data:t}),(i||0===i)&&(a+=i),a+="\n"}function s(e,t){var i,r="";return r+='\n    <div class="row">\n        <div class="col-xs-2 col-sm-1">',i=n["if"].call(e,(i=e&&e.rank,null==i||i===!1?i:i.filename),{hash:{},inverse:f.noop,fn:f.program(3,o,t),data:t}),(i||0===i)&&(r+=i),r+='</div>\n        <div class="col-xs-10 col-sm-3"><a href="#members/'+d((i=e&&e.id,typeof i===p?i.apply(e):i))+'">'+d((i=e&&e.short_name,typeof i===p?i.apply(e):i))+'</a></div>\n        <div class="col-xs-12 col-sm-7">'+d((i=e&&e.position,i=null==i||i===!1?i:i.name,typeof i===p?i.apply(e):i))+'</div>\n        <div class="hidden-xs col-sm-1">',i=n["if"].call(e,(i=e&&e.country,null==i||i===!1?i:i.abbr),{hash:{},inverse:f.noop,fn:f.program(5,l,t),data:t}),(i||0===i)&&(r+=i),r+="</div>\n    </div>\n    "}function o(e){var t,n="";return n+='<img src="images/ranks/16x16/'+d((t=e&&e.rank,t=null==t||t===!1?t:t.filename,typeof t===p?t.apply(e):t))+'.png" title="'+d((t=e&&e.rank,t=null==t||t===!1?t:t.name,typeof t===p?t.apply(e):t))+'">'}function l(e,t){var i,r,a,s="";return s+='<img src="images/countries/'+d((r=n.toLowerCase||e&&e.toLowerCase,a={hash:{},data:t},r?r.call(e,(i=e&&e.country,null==i||i===!1?i:i.abbr),a):m.call(e,"toLowerCase",(i=e&&e.country,null==i||i===!1?i:i.abbr),a)))+'.png" title="'+d((i=e&&e.country,i=null==i||i===!1?i:i.name,typeof i===p?i.apply(e):i))+'">'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var c,h,u="",p="function",d=this.escapeExpression,m=n.helperMissing,f=this;return u+='<div class="row header-row">\n    <div class="col-sm-12 header">',(h=n.name)?c=h.call(t,{hash:{},data:r}):(h=t&&t.name,c=typeof h===p?h.call(t,{hash:{},data:r}):h),u+=d(c)+"</div>\n</div>\n",c=n["if"].call(t,(c=t&&t.members,null==c||c===!1?c:c.length),{hash:{},inverse:f.noop,fn:f.program(1,a,r),data:r}),(c||0===c)&&(u+=c),u})}),define("hbs!templates/roster_attendance",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+="\r\n    ",i=n.each.call(e,e&&e.members,{hash:{},inverse:m.noop,fn:m.program(2,s,t),data:t}),(i||0===i)&&(r+=i),r+="\r\n"}function s(e,t){var i,r="";return r+='\r\n    <div class="row">\r\n        <div class="col-xs-12 col-sm-12">\r\n                <label>\r\n                    <input type="checkbox" name="attendance" value="'+d((i=e&&e.id,typeof i===p?i.apply(e):i))+'"',i=n["if"].call(e,e&&e.attended,{hash:{},inverse:m.noop,fn:m.program(3,o,t),data:t}),(i||0===i)&&(r+=i),r+='>\r\n                    <a href="#members/'+d((i=e&&e.id,typeof i===p?i.apply(e):i))+'">'+d((i=e&&e.short_name,typeof i===p?i.apply(e):i))+"</a>\r\n                    ",i=n["if"].call(e,e&&e.excused,{hash:{},inverse:m.noop,fn:m.program(5,l,t),data:t}),(i||0===i)&&(r+=i),r+="\r\n                </label>\r\n        </div>\r\n    </div>\r\n    "}function o(){return' checked="checked"'}function l(){return'<span class="label label-warning">Excused</span>'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var c,h,u="",p="function",d=this.escapeExpression,m=this;return u+='<div class="row header-row">\r\n    <div class="col-sm-12 header">',(h=n.name)?c=h.call(t,{hash:{},data:r}):(h=t&&t.name,c=typeof h===p?h.call(t,{hash:{},data:r}):h),u+=d(c)+'</div>\r\n</div>\r\n<div class="row">\r\n    <div class="col-xs-12 col-sm-12 abbr">',(h=n.abbr)?c=h.call(t,{hash:{},data:r}):(h=t&&t.abbr,c=typeof h===p?h.call(t,{hash:{},data:r}):h),u+=d(c)+" ("+d((c=t&&t.members,c=null==c||c===!1?c:c.length,typeof c===p?c.apply(t):c))+")</div>\r\n</div>\r\n",c=n["if"].call(t,(c=t&&t.members,null==c||c===!1?c:c.length),{hash:{},inverse:m.noop,fn:m.program(1,a,r),data:r}),(c||0===c)&&(u+=c),u})}),define("views/roster",["jquery","underscore","backbone","marionette","handlebars","hbs!templates/roster","hbs!templates/roster_attendance","marionette"],function(e,t,n,i,r,a,s){var o=n.Marionette.CompositeView.extend({template:a,tagName:"div",initialize:function(e){e=e||{},this.itemViewOptions=this.itemViewOptions||{},e.eventAttendance&&(this.eventAttendance=e.eventAttendance,this.itemViewOptions.eventAttendance=e.eventAttendance),e.attendance&&(this.template=s,this.itemViewOptions.attendance=!0),this.collection=this.model.get("children"),this.$el.addClass("unit").addClass("depth-"+this.model.get("depth"))},appendHtml:function(e,t){this.$el.append(t.el)},onBeforeRender:function(){t.isEmpty(this.eventAttendance)||(eventAttendance=this.eventAttendance,t.each(this.model.get("members"),function(e){var t=eventAttendance.find(function(t){return t.get("member").id===e.id});t&&(e.attended=t.get("attended"),e.excused=t.get("excused"))}))}}),l=n.Marionette.CollectionView.extend({itemView:o,title:"Roster",className:"roster",initialize:function(e){e=e||{},this.itemViewOptions=this.itemViewOptions||{},e.attendance&&(this.itemViewOptions.attendance=!0),e.eventAttendance&&(this.itemViewOptions.eventAttendance=e.eventAttendance)}});return l}),define("hbs!templates/nav",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(){return' class="active"'}function s(e,t){var i,r,s,l="";return l+="\n    <li",r=n.if_eq||e&&e.if_eq,s={hash:{compare:"enlist"},inverse:d.noop,fn:d.program(1,a,t),data:t},i=r?r.call(e,e&&e.highlight,s):m.call(e,"if_eq",e&&e.highlight,s),(i||0===i)&&(l+=i),l+=' data-highlight="enlist"><a href="#">',i=n["if"].call(e,e&&e.short_name,{hash:{},inverse:d.noop,fn:d.program(4,o,t),data:t}),(i||0===i)&&(l+=i),l+="Enlist</a></li>\n    "}function o(){return"Re-"}function l(e,t){var i,r,a="";return a+='\n    <li class="dropdown">\n        <a href="#" class="dropdown-toggle" data-toggle="dropdown">',(r=n.short_name)?i=r.call(e,{hash:{},data:t}):(r=e&&e.short_name,i=typeof r===f?r.call(e,{hash:{},data:t}):r),a+=g(i)+' <b class="caret"></b></a>\n        <ul class="dropdown-menu">\n            <li><a href="#members/',(r=n.id)?i=r.call(e,{hash:{},data:t}):(r=e&&e.id,i=typeof r===f?r.call(e,{hash:{},data:t}):r),a+=g(i)+'">Personnel File</a></li>\n            <li><a href="http://29th.org/forums/index.php?action=profile;u=',(r=n.id)?i=r.call(e,{hash:{},data:t}):(r=e&&e.id,i=typeof r===f?r.call(e,{hash:{},data:t}):r),a+=g(i)+'">Forum Profile</a></li>\n        </ul>\n    </li>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var c,h,u,p="",d=this,m=n.helperMissing,f="function",g=this.escapeExpression;return p+='<ul class="nav navbar-nav">\n    <li',h=n.if_eq||t&&t.if_eq,u={hash:{compare:"roster"},inverse:d.noop,fn:d.program(1,a,r),data:r},c=h?h.call(t,t&&t.highlight,u):m.call(t,"if_eq",t&&t.highlight,u),(c||0===c)&&(p+=c),p+=' data-highlight="roster"><a href="#">Roster</a></li>\n    <li',h=n.if_eq||t&&t.if_eq,u={hash:{compare:"calendar"},inverse:d.noop,fn:d.program(1,a,r),data:r},c=h?h.call(t,t&&t.highlight,u):m.call(t,"if_eq",t&&t.highlight,u),(c||0===c)&&(p+=c),p+=' data-highlight="calendar"><a href="#calendar">Calendar</a></li>\n    <li',h=n.if_eq||t&&t.if_eq,u={hash:{compare:"enlistments"},inverse:d.noop,fn:d.program(1,a,r),data:r},c=h?h.call(t,t&&t.highlight,u):m.call(t,"if_eq",t&&t.highlight,u),(c||0===c)&&(p+=c),p+=' data-highlight="enlistments"><a href="#enlistments">Enlistments</a></li>\n</ul>\n<ul class="nav navbar-nav navbar-right">\n    ',c=n.unless.call(t,t&&t.classes,{hash:{},inverse:d.noop,fn:d.program(3,s,r),data:r}),(c||0===c)&&(p+=c),p+="\n    \n    ",c=n["if"].call(t,t&&t.short_name,{hash:{},inverse:d.noop,fn:d.program(6,l,r),data:r}),(c||0===c)&&(p+=c),p+="\n</ul>"})}),define("views/nav",["jquery","underscore","backbone","hbs!templates/nav","marionette"],function(e,t,n,i){return n.Marionette.ItemView.extend({template:i,highlight:"home",modelEvents:{change:"render"},setHighlight:function(e){this.highlight=e,this.$(".nav li").removeClass("active"),e&&this.$('.nav li[data-highlight="'+e+'"]').addClass("active")},serializeData:function(){return t.extend({highlight:this.highlight},this.model.toJSON())}})}),define("hbs!templates/member_admin",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e,t){var i,r,a,c,h="";return h+='\n<div class="btn-group pull-right">\n    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\n        Admin <span class="caret"></span>\n    </button>\n    <ul class="dropdown-menu" role="menu">\n        ',a=n.if_inarray||e&&e.if_inarray,c={hash:{compare:e&&e.permissions},data:t},i=a?a.call(e,"profile_edit_any",c):f.call(e,"if_inarray","profile_edit_any",c),a=n.if_inarray||e&&e.if_inarray,c={hash:{compare:e&&e.memberPermissions},data:t},r=a?a.call(e,"profile_edit",c):f.call(e,"if_inarray","profile_edit",c),a=n.or||e&&e.or,c={hash:{},inverse:g.noop,fn:g.program(2,s,t),data:t},i=a?a.call(e,r,i,c):f.call(e,"or",r,i,c),(i||0===i)&&(h+=i),h+="\n        \n        ",a=n.if_inarray||e&&e.if_inarray,c={hash:{compare:e&&e.memberPermissions},inverse:g.noop,fn:g.program(4,o,t),data:t},i=a?a.call(e,"promotion_add",c):f.call(e,"if_inarray","promotion_add",c),(i||0===i)&&(h+=i),h+="\n        \n        ",a=n.if_inarray||e&&e.if_inarray,c={hash:{compare:e&&e.memberPermissions},inverse:g.noop,fn:g.program(6,l,t),data:t},i=a?a.call(e,"discharge",c):f.call(e,"if_inarray","discharge",c),(i||0===i)&&(h+=i),h+="\n    </ul>\n</div>\n"}function s(e,t){var i,r,a="";return a+='\n            <li><a href="#members/',(r=n.member_id)?i=r.call(e,{hash:{},data:t}):(r=e&&e.member_id,i=typeof r===d?r.call(e,{hash:{},data:t}):r),a+=m(i)+'/edit">Modify Profile</a></li>\n        '}function o(){return'\n            <li><a href="#">Promote</a></li>\n        '}function l(){return'\n            <li><a href="#">Discharge</a></li>\n        '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var c,h,u,p,d="function",m=this.escapeExpression,f=n.helperMissing,g=this;return u=n.length||t&&t.length,p={hash:{},data:r},c=u?u.call(t,t&&t.memberPermissions,p):f.call(t,"length",t&&t.memberPermissions,p),u=n.length||t&&t.length,p={hash:{},data:r},h=u?u.call(t,t&&t.permissions,p):f.call(t,"length",t&&t.permissions,p),u=n.or||t&&t.or,p={hash:{},inverse:g.noop,fn:g.program(1,a,r),data:r},c=u?u.call(t,h,c,p):f.call(t,"or",h,c,p),c||0===c?c:""})}),define("views/member_admin",["jquery","underscore","backbone","hbs!templates/member_admin","marionette"],function(e,t,n,i){var r=n.Marionette.ItemView.extend({template:i,initialize:function(e){e=e||{},this.permissions=e.permissions||{},this.permissions.on("reset",this.render,this),this.memberPermissions=e.memberPermissions||{},this.memberPermissions.on("reset",this.render,this)},serializeData:function(){return{member_id:this.memberPermissions.member_id,permissions:this.permissions.length?this.permissions.pluck("abbr"):[],memberPermissions:this.memberPermissions.length?this.memberPermissions.pluck("abbr"):[]}}});return r}),define("hbs!templates/member_profile",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e,t){var i,r,a,s="";return s+='<img src="images/countries/'+u((r=n.toLowerCase||e&&e.toLowerCase,a={hash:{},data:t},r?r.call(e,(i=e&&e.country,null==i||i===!1?i:i.abbr),a):h.call(e,"toLowerCase",(i=e&&e.country,null==i||i===!1?i:i.abbr),a)))+'.png" title="'+u((i=e&&e.country,i=null==i||i===!1?i:i.name,typeof i===p?i.apply(e):i))+'">'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l,c="",h=n.helperMissing,u=this.escapeExpression,p="function",d=this;return c+='<table class="table">\n    <tr>\n        <th>Active Class</th>\n        <td>'+u((o=n.join||t&&t.join,l={hash:{delimiter:", "},data:r},o?o.call(t,t&&t.classes,l):h.call(t,"join",t&&t.classes,l)))+"</td>\n    </tr>\n    <tr>\n        <th>Country</th>\n        <td>\n            ",s=n["if"].call(t,(s=t&&t.country,null==s||s===!1?s:s.abbr),{hash:{},inverse:d.noop,fn:d.program(1,a,r),data:r}),(s||0===s)&&(c+=s),c+="\n            "+u((s=t&&t.country,s=null==s||s===!1?s:s.name,typeof s===p?s.apply(t):s))+"\n        </td>\n    </tr>\n    <tr>\n        <th>Steam ID</th>\n        <td>",(o=n.steam_id)?s=o.call(t,{hash:{},data:r}):(o=t&&t.steam_id,s=typeof o===p?o.call(t,{hash:{},data:r}):o),c+=u(s)+"</td>\n    </tr>\n</table>"})}),define("views/member_profile",["jquery","underscore","backbone","hbs!templates/member_profile","marionette"],function(e,t,n,i){var r=n.Marionette.ItemView.extend({template:i});return r}),define("hbs!templates/member_edit",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+='\n            <option value="">Select...</option>\n            ',i=n.each.call(e,e&&e.countries,{hash:{},inverse:d.noop,fn:d.program(2,s,t),data:t}),(i||0===i)&&(r+=i),r+="\n            "}function s(e){var t,n="";return n+='\n            <option value="'+p((t=e&&e.id,typeof t===u?t.apply(e):t))+'">'+p((t=e&&e.name,typeof t===u?t.apply(e):t))+"</option>\n            "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l,c,h="",u="function",p=this.escapeExpression,d=this,m=n.helperMissing;return h+='<form role="form">\n    <div class="form-group">\n        <label for="first_name">First Name</label>\n        <input type="text" class="form-control" id="first_name" name="first_name" value="',(l=n.first_name)?o=l.call(t,{hash:{},data:r}):(l=t&&t.first_name,o=typeof l===u?l.call(t,{hash:{},data:r}):l),h+=p(o)+'">\n    </div>\n    \n    <div class="form-group">\n        <label for="middle_name">Middle Name</label>\n        <input type="text" class="form-control" id="middle_name" name="middle_name" value="',(l=n.middle_name)?o=l.call(t,{hash:{},data:r}):(l=t&&t.middle_name,o=typeof l===u?l.call(t,{hash:{},data:r}):l),h+=p(o)+'">\n    </div>\n    \n    <div class="form-group">\n        <label for="last_name">Last Name</label>\n        <input type="text" class="form-control" id="last_name" name="last_name" value="',(l=n.last_name)?o=l.call(t,{hash:{},data:r}):(l=t&&t.last_name,o=typeof l===u?l.call(t,{hash:{},data:r}):l),h+=p(o)+'">\n    </div>\n    \n    <div class="form-group">\n        <label for="country_id">Country</label>\n        <select class="form-control" name="country_id" id="country_id">\n            ',l=n.select||t&&t.select,c={hash:{},inverse:d.noop,fn:d.program(1,a,r),data:r},o=l?l.call(t,(o=t&&t.country,null==o||o===!1?o:o.id),c):m.call(t,"select",(o=t&&t.country,null==o||o===!1?o:o.id),c),(o||0===o)&&(h+=o),h+='\n        </select>\n    </div>\n    \n    <div class="form-group">\n        <label for="steam_id">Steam ID</label>\n        <input type="text" class="form-control" id="steam_id" name="steam_id" value="',(l=n.steam_id)?o=l.call(t,{hash:{},data:r}):(l=t&&t.steam_id,o=typeof l===u?l.call(t,{hash:{},data:r}):l),h+=p(o)+'">\n    </div>\n    \n    <button type="submit" class="btn btn-primary btn-lg btn-block">Submit</button>\n</form>'})}),define("text",["module"],function(e){var t,n,i,r,a,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,h=c&&location.protocol&&location.protocol.replace(/\:/,""),u=c&&location.hostname,p=c&&(location.port||void 0),d={},m=e.config&&e.config()||{};return t={version:"2.0.10",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(i){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,a=e.indexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!s||a>1)?(t=e.substring(0,a),n=e.substring(a+1,e.length)):t=e,i=n||t,a=i.indexOf("!"),-1!==a&&(r="strip"===i.substring(a+1),i=i.substring(0,a),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,r){var a,s,o,l=t.xdRegExp.exec(e);return l?(a=l[2],s=l[3],s=s.split(":"),o=s[1],s=s[0],!(a&&a!==n||s&&s.toLowerCase()!==i.toLowerCase()||(o||s)&&o!==r)):!0},finishLoad:function(e,n,i,r){i=n?t.strip(i):i,m.isBuild&&(d[e]=i),r(i)},load:function(e,n,i,r){if(r.isBuild&&!r.inlineText)return void i();m.isBuild=r.isBuild;var a=t.parseName(e),s=a.moduleName+(a.ext?"."+a.ext:""),o=n.toUrl(s),l=m.useXhr||t.useXhr;return 0===o.indexOf("empty:")?void i():void(!c||l(o,h,u,p)?t.get(o,function(n){t.finishLoad(e,a.strip,n,i)},function(e){i.error&&i.error(e)}):n([s],function(e){t.finishLoad(a.moduleName+"."+a.ext,a.strip,e,i)}))},write:function(e,n,i){if(d.hasOwnProperty(n)){var r=t.jsEscape(d[n]);i.asModule(e+"!"+n,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,n,i,r,a){var s=t.parseName(n),o=s.ext?"."+s.ext:"",l=s.moduleName+o,c=i.toUrl(s.moduleName+o)+".js";t.load(l,i,function(){var n=function(e){return r(c,e)};n.asModule=function(e,t){return r.asModule(e,c,t)},t.write(e,l,n,a)},a)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),t.get=function(e,t,i){try{var r=n.readFileSync(e,"utf8");0===r.indexOf("﻿")&&(r=r.substring(1)),t(r)}catch(a){i(a)}}):"xhr"===m.env||!m.env&&t.createXhr()?t.get=function(e,n,i,r){var a,s=t.createXhr();if(s.open("GET",e,!0),r)for(a in r)r.hasOwnProperty(a)&&s.setRequestHeader(a.toLowerCase(),r[a]);m.onXhr&&m.onXhr(s,e),s.onreadystatechange=function(){var t,r;4===s.readyState&&(t=s.status,t>399&&600>t?(r=new Error(e+" HTTP status: "+t),r.xhr=s,i(r)):n(s.responseText),m.onXhrComplete&&m.onXhrComplete(s,e))},s.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,i,r="utf-8",a=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),r)),l="";try{for(n=new java.lang.StringBuffer,i=o.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=o.readLine());)n.append(s),n.append(i);l=String(n.toString())}finally{o.close()}t(l)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var n,s,o,l={};a&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),n.init(o,1,0,!1),s=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),s.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),l),s.close(),n.close(),t(l.value)}catch(c){throw new Error((o&&o.path||"")+": "+c)}}),t}),define("json",["text"],function(text){function cacheBust(e){return e=e.replace(CACHE_BUST_FLAG,""),e+=e.indexOf("?")<0?"?":"&",e+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(e,t,n,i){!i.isBuild||i.inlineJSON!==!1&&-1===e.indexOf(CACHE_BUST_QUERY_PARAM+"=")?text.get(t.toUrl(e),function(t){i.isBuild?(buildMap[e]=t,n(t)):n(jsonParse(t))},n.error,{accept:"application/json"}):n(null)},normalize:function(e){return-1===e.indexOf(CACHE_BUST_FLAG)?e:cacheBust(e)},write:function(e,t,n){if(t in buildMap){var i=buildMap[t];n('define("'+e+"!"+t+'", function(){ return '+i+";});\n")}}}}),define("json!countries.json",function(){return[{id:1,name:"ANDORRA"},{id:2,name:"UNITED ARAB EMIRATES"},{id:3,name:"AFGHANISTAN"},{id:4,name:"ANTIGUA AND BARBUDA"},{id:5,name:"ANGUILLA"},{id:6,name:"ALBANIA"},{id:7,name:"ARMENIA"},{id:8,name:"NETHERLANDS ANTILLES"},{id:9,name:"ANGOLA"},{id:10,name:"ANTARCTICA"},{id:11,name:"ARGENTINA"},{id:12,name:"AMERICAN SAMOA"},{id:13,name:"AUSTRIA"},{id:14,name:"AUSTRALIA"},{id:15,name:"ARUBA"},{id:16,name:"AZERBAIJAN"},{id:17,name:"BOSNIA AND HERZEGOVINA"},{id:18,name:"BARBADOS"},{id:19,name:"BANGLADESH"},{id:20,name:"BELGIUM"},{id:21,name:"BURKINA FASO"},{id:22,name:"BULGARIA"},{id:23,name:"BAHRAIN"},{id:24,name:"BURUNDI"},{id:25,name:"BENIN"},{id:26,name:"BERMUDA"},{id:27,name:"BRUNEI DARUSSALAM"},{id:28,name:"BOLIVIA"},{id:29,name:"BRAZIL"},{id:30,name:"BAHAMAS"},{id:31,name:"BHUTAN"},{id:32,name:"BOUVET ISLAND"},{id:33,name:"BOTSWANA"},{id:34,name:"BELARUS"},{id:35,name:"BELIZE"},{id:36,name:"CANADA"},{id:37,name:"COCOS (KEELING) ISLANDS"},{id:38,name:"CONGO, THE DEMOCRATIC REPUBLIC OF THE"},{id:39,name:"CENTRAL AFRICAN REPUBLIC"},{id:40,name:"CONGO"},{id:41,name:"SWITZERLAND"},{id:42,name:"COTE D'IVOIRE"},{id:43,name:"COOK ISLANDS"},{id:44,name:"CHILE"},{id:45,name:"CAMEROON"},{id:46,name:"CHINA"},{id:47,name:"COLOMBIA"},{id:48,name:"COSTA RICA"},{id:49,name:"SERBIA AND MONTENEGRO"},{id:50,name:"CUBA"},{id:51,name:"CAPE VERDE"},{id:52,name:"CHRISTMAS ISLAND"},{id:53,name:"CYPRUS"},{id:54,name:"CZECH REPUBLIC"},{id:55,name:"GERMANY"},{id:56,name:"DJIBOUTI"},{id:57,name:"DENMARK"},{id:58,name:"DOMINICA"},{id:59,name:"DOMINICAN REPUBLIC"},{id:60,name:"ALGERIA"},{id:61,name:"ECUADOR"},{id:62,name:"ESTONIA"},{id:63,name:"EGYPT"},{id:64,name:"WESTERN SAHARA"},{id:65,name:"ERITREA"},{id:66,name:"SPAIN"},{id:67,name:"ETHIOPIA"},{id:68,name:"FINLAND"},{id:69,name:"FIJI"},{id:70,name:"FALKLAND ISLANDS (MALVINAS)"},{id:71,name:"MICRONESIA, FEDERATED STATES OF"},{id:72,name:"FAROE ISLANDS"},{id:73,name:"FRANCE"},{id:74,name:"GABON"},{id:75,name:"UNITED KINGDOM"},{id:76,name:"GRENADA"},{id:77,name:"GEORGIA"},{id:78,name:"FRENCH GUIANA"},{id:79,name:"GHANA"},{id:80,name:"GIBRALTAR"},{id:81,name:"GREENLAND"},{id:82,name:"GAMBIA"},{id:83,name:"GUINEA"},{id:84,name:"GUADELOUPE"},{id:85,name:"EQUATORIAL GUINEA"},{id:86,name:"GREECE"},{id:87,name:"SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS"},{id:88,name:"GUATEMALA"},{id:89,name:"GUAM"},{id:90,name:"GUINEA-BISSAU"},{id:91,name:"GUYANA"},{id:92,name:"HONG KONG"},{id:93,name:"HEARD ISLAND AND MCDONALD ISLANDS"},{id:94,name:"HONDURAS"},{id:95,name:"CROATIA"},{id:96,name:"HAITI"},{id:97,name:"HUNGARY"},{id:98,name:"INDONESIA"},{id:99,name:"IRELAND"},{id:100,name:"ISRAEL"},{id:101,name:"INDIA"},{id:102,name:"BRITISH INDIAN OCEAN TERRITORY"},{id:103,name:"IRAQ"},{id:104,name:"IRAN, ISLAMIC REPUBLIC OF"},{id:105,name:"ICELAND"},{id:106,name:"ITALY"},{id:107,name:"JAMAICA"},{id:108,name:"JORDAN"},{id:109,name:"JAPAN"},{id:110,name:"KENYA"},{id:111,name:"KYRGYZSTAN"},{id:112,name:"CAMBODIA"},{id:113,name:"KIRIBATI"},{id:114,name:"COMOROS"},{id:115,name:"SAINT KITTS AND NEVIS"},{id:116,name:"KOREA, DEMOCRATIC PEOPLE'S REPUBLIC OF"},{id:117,name:"KOREA, REPUBLIC OF"},{id:118,name:"KUWAIT"},{id:119,name:"CAYMAN ISLANDS"},{id:120,name:"KAZAKHSTAN"},{id:121,name:"LAO PEOPLE'S DEMOCRATIC REPUBLIC"},{id:122,name:"LEBANON"},{id:123,name:"SAINT LUCIA"},{id:124,name:"LIECHTENSTEIN"},{id:125,name:"SRI LANKA"},{id:126,name:"LIBERIA"},{id:127,name:"LESOTHO"},{id:128,name:"LITHUANIA"},{id:129,name:"LUXEMBOURG"},{id:130,name:"LATVIA"},{id:131,name:"LIBYAN ARAB JAMAHIRIYA"},{id:132,name:"MOROCCO"},{id:133,name:"MONACO"},{id:134,name:"MOLDOVA, REPUBLIC OF"},{id:135,name:"MADAGASCAR"},{id:136,name:"MARSHALL ISLANDS"},{id:137,name:"MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF"},{id:138,name:"MALI"},{id:139,name:"MYANMAR"},{id:140,name:"MONGOLIA"},{id:141,name:"MACAO"},{id:142,name:"NORTHERN MARIANA ISLANDS"},{id:143,name:"MARTINIQUE"},{id:144,name:"MAURITANIA"},{id:145,name:"MONTSERRAT"},{id:146,name:"MALTA"},{id:147,name:"MAURITIUS"},{id:148,name:"MALDIVES"},{id:149,name:"MALAWI"},{id:150,name:"MEXICO"},{id:151,name:"MALAYSIA"},{id:152,name:"MOZAMBIQUE"},{id:153,name:"NAMIBIA"},{id:154,name:"NEW CALEDONIA"},{id:155,name:"NIGER"},{id:156,name:"NORFOLK ISLAND"},{id:157,name:"NIGERIA"},{id:158,name:"NICARAGUA"},{id:159,name:"NETHERLANDS"},{id:160,name:"NORWAY"},{id:161,name:"NEPAL"},{id:162,name:"NAURU"},{id:163,name:"NIUE"},{id:164,name:"NEW ZEALAND"},{id:165,name:"OMAN"},{id:166,name:"PANAMA"},{id:167,name:"PERU"},{id:168,name:"FRENCH POLYNESIA"},{id:169,name:"PAPUA NEW GUINEA"},{id:170,name:"PHILIPPINES"},{id:171,name:"PAKISTAN"},{id:172,name:"POLAND"},{id:173,name:"SAINT PIERRE AND MIQUELON"},{id:174,name:"PITCAIRN"},{id:175,name:"PUERTO RICO"},{id:176,name:"PALESTINIAN TERRITORY, OCCUPIED"},{id:177,name:"PORTUGAL"},{id:178,name:"PALAU"},{id:179,name:"PARAGUAY"},{id:180,name:"QATAR"},{id:181,name:"REUNION"},{id:182,name:"ROMANIA"},{id:183,name:"RUSSIAN FEDERATION"},{id:184,name:"RWANDA"},{id:185,name:"SAUDI ARABIA"},{id:186,name:"SOLOMON ISLANDS"},{id:187,name:"SEYCHELLES"},{id:188,name:"SUDAN"},{id:189,name:"SWEDEN"},{id:190,name:"SINGAPORE"},{id:191,name:"SAINT HELENA"},{id:192,name:"SLOVENIA"},{id:193,name:"SVALBARD AND JAN MAYEN"},{id:194,name:"SLOVAKIA"},{id:195,name:"SIERRA LEONE"},{id:196,name:"SAN MARINO"},{id:197,name:"SENEGAL"},{id:198,name:"SOMALIA"},{id:199,name:"SURINAME"},{id:200,name:"SAO TOME AND PRINCIPE"},{id:201,name:"EL SALVADOR"},{id:202,name:"SYRIAN ARAB REPUBLIC"},{id:203,name:"SWAZILAND"},{id:204,name:"TURKS AND CAICOS ISLANDS"},{id:205,name:"CHAD"},{id:206,name:"FRENCH SOUTHERN TERRITORIES"},{id:207,name:"TOGO"},{id:208,name:"THAILAND"},{id:209,name:"TAJIKISTAN"},{id:210,name:"TOKELAU"},{id:211,name:"TIMOR-LESTE"},{id:212,name:"TURKMENISTAN"},{id:213,name:"TUNISIA"},{id:214,name:"TONGA"},{id:215,name:"TURKEY"},{id:216,name:"TRINIDAD AND TOBAGO"},{id:217,name:"TUVALU"},{id:218,name:"TAIWAN, PROVINCE OF CHINA"},{id:219,name:"TANZANIA, UNITED REPUBLIC OF"},{id:220,name:"UKRAINE"},{id:221,name:"UGANDA"},{id:222,name:"UNITED STATES MINOR OUTLYING ISLANDS"},{id:223,name:"UNITED STATES"},{id:224,name:"URUGUAY"},{id:225,name:"UZBEKISTAN"},{id:226,name:"HOLY SEE (VATICAN CITY STATE)"},{id:227,name:"SAINT VINCENT AND THE GRENADINES"},{id:228,name:"VENEZUELA"},{id:229,name:"VIRGIN ISLANDS, BRITISH"},{id:230,name:"VIRGIN ISLANDS, U.S."},{id:231,name:"VIET NAM"},{id:232,name:"VANUATU"},{id:233,name:"WALLIS AND FUTUNA"},{id:234,name:"SAMOA"},{id:235,name:"YEMEN"},{id:236,name:"MAYOTTE"},{id:237,name:"SOUTH AFRICA"},{id:238,name:"ZAMBIA"},{id:239,name:"ZIMBABWE"}]
}),define("views/member_edit",["jquery","underscore","backbone","hbs!templates/member_edit","json!countries.json","marionette"],function(e,t,n,i,r){return n.Marionette.ItemView.extend({template:i,initialize:function(){t.bindAll(this,"onSubmitForm")},events:{"submit form":"onSubmitForm"},serializeData:function(){return e.extend({countries:r},this.model.toJSON())},onSubmitForm:function(t){t.preventDefault();var i=this.model.get("id");this.model.save(e(t.currentTarget).serializeObject(),{method:"POST",patch:!0,success:function(){n.history.navigate("members/"+i,{trigger:!0})}})}})}),define("hbs!templates/service_record",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e,t){var i,r,a,c="";return c+="\n    <h3>",r=n.unless_eq||e&&e.unless_eq,a={hash:{compare:"undefined"},inverse:b.program(4,o,t),fn:b.program(2,s,t),data:t},i=r?r.call(e,e&&e.date,a):f.call(e,"unless_eq",e&&e.date,a),(i||0===i)&&(c+=i),c+="</h3>\n    ",i=n.each.call(e,e&&e.items,{hash:{},inverse:b.noop,fn:b.program(6,l,t),data:t}),(i||0===i)&&(c+=i),c+="\n"}function s(e,t){var i,r;return g((i=n.dateFormat||e&&e.dateFormat,r={hash:{format:"ll"},data:t},i?i.call(e,e&&e.date,r):f.call(e,"dateFormat",e&&e.date,r)))}function o(){return"Unknown"}function l(e,t){var i,r="";return r+="\n        ",i=n["if"].call(e,e&&e.position,{hash:{},inverse:b.noop,fn:b.program(7,c,t),data:t}),(i||0===i)&&(r+=i),r+="\n        ",i=n["if"].call(e,e&&e.new_rank,{hash:{},inverse:b.noop,fn:b.program(9,h,t),data:t}),(i||0===i)&&(r+=i),r+="\n        ",i=n["if"].call(e,e&&e.award,{hash:{},inverse:b.noop,fn:b.program(11,u,t),data:t}),(i||0===i)&&(r+=i),r+="\n        ",i=n["if"].call(e,e&&e.status,{hash:{},inverse:b.noop,fn:b.program(13,p,t),data:t}),(i||0===i)&&(r+=i),r+="\n    "}function c(e){var t,n="";return n+='\n            <li>Assigned to <a href="#/units/'+g((t=e&&e.unit,t=null==t||t===!1?t:t.key,typeof t===v?t.apply(e):t))+'">'+g((t=e&&e.unit,t=null==t||t===!1?t:t.abbr,typeof t===v?t.apply(e):t))+"</a> as a "+g((t=e&&e.position,t=null==t||t===!1?t:t.name,typeof t===v?t.apply(e):t))+"</li>\n        "}function h(e){var t,n="";return n+="\n            <li>Promoted to "+g((t=e&&e.new_rank,t=null==t||t===!1?t:t.name,typeof t===v?t.apply(e):t))+"</li>\n        "}function u(e){var t,n="";return n+="\n            <li>Awarded "+g((t=e&&e.award,t=null==t||t===!1?t:t.name,typeof t===v?t.apply(e):t))+"</li>\n        "}function p(e,t){var i,r="";return r+='\n            <li><a href="#enlistments/'+g((i=e&&e.id,typeof i===v?i.apply(e):i))+'">Enlisted</a>',i=n["if"].call(e,e&&e.unit_id,{hash:{},inverse:b.noop,fn:b.program(14,d,t),data:t}),(i||0===i)&&(r+=i),r+="</li>\n        "}function d(e){var t,n="";return n+=' in the <a href="#units/'+g((t=e&&e.unit,t=null==t||t===!1?t:t.key,typeof t===v?t.apply(e):t))+'">'+g((t=e&&e.unit,t=null==t||t===!1?t:t.abbr,typeof t===v?t.apply(e):t))+"</a>"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var m,f=n.helperMissing,g=this.escapeExpression,v="function",b=this;return m=n.each.call(t,t&&t.items,{hash:{},inverse:b.noop,fn:b.program(1,a,r),data:r}),m||0===m?m:""})}),define("views/service_record",["jquery","underscore","backbone","hbs!templates/service_record","marionette"],function(e,t,n,i){var r=n.Marionette.ItemView.extend({template:i,initialize:function(e){e=e||{},this.assignments=e.assignments||!1,this.promotions=e.promotions||!1,this.awardings=e.awardings||!1,this.enlistments=e.enlistments||!1},serializeData:function(){var e=[],n=t.groupBy(this.assignments.toJSON().concat(this.promotions.toJSON(),this.awardings.toJSON(),this.enlistments.toJSON()),function(e){return e.start_date||e.date});return t.each(n,function(t,n){e.push({date:n,items:t})}),e.sort(function(e,t){return e.date<t.date?1:t.date<e.date?-1:0}),{items:e}}});return r}),define("hbs!templates/member_attendance",["handlebars"],function(e){return e.template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<table class="table">\r\n    <thead>\r\n        <tr>\r\n            <th>Date</th>\r\n            <th>Unit</th>\r\n            <th>Type</th>\r\n            <th>Status</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody id="rows"></tbody>\r\n</table>\r\n\r\n<button class="btn btn-large btn-block more" type="button" data-loading-text="Loading" data-error-text="Error">More</button>'})}),define("hbs!templates/member_attendance_item",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(){return'<span class="label label-info">Mandatory</span>'}function s(){return"\r\n    Attended\r\n"}function o(e,t){var i,r="";return r+="\r\n    ",i=n["if"].call(e,e&&e.excused,{hash:{},inverse:m.program(8,c,t),fn:m.program(6,l,t),data:t}),(i||0===i)&&(r+=i),r+="\r\n"}function l(){return"\r\n        Excused\r\n    "}function c(){return"\r\n        AWOL\r\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var h,u,p,d="",m=this,f="function",g=this.escapeExpression,v=n.helperMissing;return d+='<td><a href="#events/'+g((h=t&&t.event,h=null==h||h===!1?h:h.id,typeof h===f?h.apply(t):h))+'">'+g((u=n.dateFormat||t&&t.dateFormat,p={hash:{format:"ll HH:mm"},data:r},u?u.call(t,(h=t&&t.event,null==h||h===!1?h:h.datetime),p):v.call(t,"dateFormat",(h=t&&t.event,null==h||h===!1?h:h.datetime),p)))+'</a></td>\r\n<td><a href="#units/'+g((h=t&&t.unit,h=null==h||h===!1?h:h.key,typeof h===f?h.apply(t):h))+'">'+g((h=t&&t.unit,h=null==h||h===!1?h:h.abbr,typeof h===f?h.apply(t):h))+"</a></td>\r\n<td>\r\n    ",h=n["if"].call(t,(h=t&&t.event,null==h||h===!1?h:h.mandatory),{hash:{},inverse:m.noop,fn:m.program(1,a,r),data:r}),(h||0===h)&&(d+=h),d+="\r\n    "+g((h=t&&t.event,h=null==h||h===!1?h:h.type,typeof h===f?h.apply(t):h))+"\r\n</td>\r\n<td>\r\n",h=n["if"].call(t,t&&t.attended,{hash:{},inverse:m.program(5,o,r),fn:m.program(3,s,r),data:r}),(h||0===h)&&(d+=h),d+="\r\n</td>"})}),define("views/member_attendance",["jquery","underscore","backbone","hbs!templates/member_attendance","hbs!templates/member_attendance_item","marionette"],function(e,t,n,i,r){var a=n.Marionette.ItemView.extend({template:r,tagName:"tr"}),s=n.Marionette.CompositeView.extend({template:i,itemView:a,itemViewContainer:"#rows",_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},this)},initialize:function(){t.bindAll(this,"onClickMore")},events:{"click .more":"onClickMore"},onRender:function(){this.checkMoreButton()},onClickMore:function(t){t.preventDefault();var n=this,i=e(t.currentTarget);i.button("loading"),this.collection.nextPage().fetch({remove:!1,success:function(){i.button("reset"),n.checkMoreButton()},error:function(){i.button("error")}})},checkMoreButton:function(){this.$(".more").toggle(this.collection.more)}});return s}),define("hbs!templates/unit_attendance",["handlebars"],function(e){return e.template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<table class="table">\n    <thead>\n        <tr>\n            <th>Date</th>\n            <th>Unit</th>\n            <th>Type</th>\n            <th>Attended</th>\n            <th>AWOLs</th>\n        </tr>\n    </thead>\n    <tbody id="rows"></tbody>\n</table>\n\n<button class="btn btn-large btn-block more" type="button" data-loading-text="Loading" data-error-text="Error">More</button>'})}),define("hbs!templates/unit_attendance_item",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(){return'<span class="label label-info">Mandatory</span>'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,o,l,c="",h="function",u=this.escapeExpression,p=n.helperMissing,d=this;return c+='<td><a href="#events/'+u((s=t&&t.event,s=null==s||s===!1?s:s.id,typeof s===h?s.apply(t):s))+'">'+u((o=n.dateFormat||t&&t.dateFormat,l={hash:{format:"ll HH:mm"},data:r},o?o.call(t,(s=t&&t.event,null==s||s===!1?s:s.datetime),l):p.call(t,"dateFormat",(s=t&&t.event,null==s||s===!1?s:s.datetime),l)))+'</a></td>\n<td><a href="#units/'+u((s=t&&t.unit,s=null==s||s===!1?s:s.key,typeof s===h?s.apply(t):s))+'">'+u((s=t&&t.unit,s=null==s||s===!1?s:s.abbr,typeof s===h?s.apply(t):s))+"</a></td>\n<td>\n    ",s=n["if"].call(t,(s=t&&t.event,null==s||s===!1?s:s.mandatory),{hash:{},inverse:d.noop,fn:d.program(1,a,r),data:r}),(s||0===s)&&(c+=s),c+="\n    "+u((s=t&&t.event,s=null==s||s===!1?s:s.type,typeof s===h?s.apply(t):s))+"\n</td>\n<td>",(o=n.attended)?s=o.call(t,{hash:{},data:r}):(o=t&&t.attended,s=typeof o===h?o.call(t,{hash:{},data:r}):o),c+=u(s)+" / "+u((o=n.add||t&&t.add,l={hash:{},data:r},o?o.call(t,t&&t.attended,t&&t.absent,l):p.call(t,"add",t&&t.attended,t&&t.absent,l)))+"</td>\n<td>"+u((o=n.subtract||t&&t.subtract,l={hash:{},data:r},o?o.call(t,t&&t.absent,t&&t.excused,l):p.call(t,"subtract",t&&t.absent,t&&t.excused,l)))+"</td>"})}),define("views/unit_attendance",["jquery","underscore","backbone","hbs!templates/unit_attendance","hbs!templates/unit_attendance_item","marionette"],function(e,t,n,i,r){var a=n.Marionette.ItemView.extend({template:r,tagName:"tr"});return n.Marionette.CompositeView.extend({template:i,itemView:a,itemViewContainer:"#rows",_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},this)},initialize:function(){t.bindAll(this,"onClickMore")},events:{"click .more":"onClickMore"},onRender:function(){this.checkMoreButton()},onClickMore:function(t){t.preventDefault();var n=this,i=e(t.currentTarget);i.button("loading"),this.collection.nextPage().fetch({remove:!1,success:function(){i.button("reset"),n.checkMoreButton()},error:function(){i.button("error")}})},checkMoreButton:function(){this.$(".more").toggle(this.collection.more)}})}),define("hbs!templates/qualifications",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+="\r\n    <h1>"+d((i=null==t||t===!1?t:t.key,typeof i===p?i.apply(e):i))+"</h1>\r\n    ",i=n.each.call(e,e,{hash:{},inverse:m.noop,fn:m.program(2,s,t),data:t}),(i||0===i)&&(r+=i),r+="\r\n"}function s(e,t){var i,r,a,s="";return s+="\r\n        ",r=n.unless_eq||e&&e.unless_eq,a={hash:{compare:"N/A"},inverse:m.noop,fn:m.program(3,o,t),data:t},i=r?r.call(e,null==t||t===!1?t:t.key,a):f.call(e,"unless_eq",null==t||t===!1?t:t.key,a),(i||0===i)&&(s+=i),s+="\r\n        <ul>\r\n        ",i=n.each.call(e,e,{hash:{},inverse:m.noop,fn:m.program(5,l,t),data:t}),(i||0===i)&&(s+=i),s+="\r\n        </ul>\r\n    "}function o(e,t){var n,i="";return i+="<h3>"+d((n=null==t||t===!1?t:t.key,typeof n===p?n.apply(e):n))+"</h3>"}function l(e,t){var i,r="";return r+='\r\n            <li style="list-style-type: none">\r\n                ',i=n["if"].call(e,(i=e&&e.qualification,null==i||i===!1?i:i.id),{hash:{},inverse:m.program(8,h,t),fn:m.program(6,c,t),data:t}),(i||0===i)&&(r+=i),r+="\r\n                "+d((i=e&&e.description,typeof i===p?i.apply(e):i))+"\r\n            </li>\r\n        "}function c(){return'\r\n                    <span class="glyphicon glyphicon-check"></span>\r\n                '}function h(){return'\r\n                    <span class="glyphicon glyphicon-unchecked"></span>\r\n                '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var u,p="function",d=this.escapeExpression,m=this,f=n.helperMissing;return u=n.each.call(t,t&&t.items,{hash:{},inverse:m.noop,fn:m.program(1,a,r),data:r}),u||0===u?u:""})}),define("views/qualifications",["jquery","underscore","backbone","hbs!templates/qualifications","marionette"],function(e,t,n,i){var r=n.Marionette.ItemView.extend({template:i,serializeData:function(){var e=this.collection.toJSON(),n={};return t.each(e,function(e){void 0===n[e.weapon]&&(n[e.weapon]={}),void 0===n[e.weapon][e.badge]&&(n[e.weapon][e.badge]=[]),n[e.weapon][e.badge].push(e)}),{items:n}}});return r}),define("hbs!templates/calendar",["handlebars"],function(e){return e.template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div id="calendar"></div>'})}),define("views/calendar",["jquery","underscore","backbone","util","hbs!templates/calendar","marionette"],function(e,t,n,i,r){var a=n.Marionette.ItemView.extend({template:r,className:"calendar",title:"Calendar",settings:{calendar:{header:{left:"prev,next today",center:"title",right:"month,basicWeek,basicDay",ignoreTimezone:!1},buttonText:{prev:'<i class="glyphicon glyphicon-arrow-left"></i>',next:'<i class="glyphicon glyphicon-arrow-right"></i>'},eventClick:function(e){n.history.navigate("#events/"+e.id,{trigger:!0})},eventDataTransform:function(e){return{id:e.id,title:window.moment(e.datetime).format("HH:mm")+" "+(e.unit.key?e.unit.key:e.type),start:e.datetime,backgroundColor:e.user_expected?"#5cb85c":"#3a87ad"}},loading:function(e){i.loading(e)}}},initialize:function(){t.bindAll(this,"getEvents"),this.settings.calendar.events=this.getEvents},onShow:function(){this.$("#calendar").fullCalendar(this.settings.calendar)},getEvents:function(t,n,i){var r=this;this.collection.from=Math.round(t.getTime()/1e3),this.collection.to=Math.round(n.getTime()/1e3),e.when(this.collection.fetch()).done(function(){var e=r.collection.toJSON().map(function(e){return e.user_expected=r.isExpected(e),e});i(e)})},isExpected:function(e){var t=!1;return this.options.userAssignments.length&&e.unit.id&&this.options.userAssignments.any(function(n){return n.get("path_array")||n.set("path_array",n.get("unit").path.split("/").map(function(e){return e?parseInt(e,10):void 0})),n.get("unit").id===e.unit.id||n.get("path_array").indexOf(e.unit.id)>-1?(t=!0,!0):void 0}),t}});return a}),define("hbs!templates/event",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(){return" Mandatory "}function s(){return" Non-Mandatory "}function o(e){var t;return y((t=e&&e.server,t=null==t||t===!1?t:t.name,typeof t===b?t.apply(e):t))}function l(e,t){var i,r="";return r+='\n            <div id="loa-buttons" class="',i=n["if"].call(e,(i=e&&e.user_rsvp,null==i||i===!1?i:i.excused),{hash:{},inverse:A.program(10,h,t),fn:A.program(8,c,t),data:t}),(i||0===i)&&(r+=i),r+='">\n                <button type="button" class="btn btn-default pull-right" id="loa-cancel"><span class="glyphicon glyphicon-minus-sign"></span> Cancel LOA</button>\n                <button type="button" class="btn btn-default pull-right" id="loa-post"><span class="glyphicon glyphicon-plus-sign"></span> Post LOA</button>\n            </div>\n            \n        '}function c(){return"loa-cancel"}function h(){return"loa-post"}function u(e,t){var i,r,a="";return a+='\n            <a href="#events/',(r=n.id)?i=r.call(e,{hash:{},data:t}):(r=e&&e.id,i=typeof r===b?r.call(e,{hash:{},data:t}):r),a+=y(i)+'/aar" class="btn btn-default pull-right"><span class="glyphicon glyphicon-list"></span> Post AAR</a>\n        '}function p(){return"You are expected to attend"}function d(e,t){var i,r,a="";return a+="\n<blockquote>",(r=n.report)?i=r.call(e,{hash:{},data:t}):(r=e&&e.report,i=typeof r===b?r.call(e,{hash:{},data:t}):r),a+=y(i)+"</blockquote>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var m,f,g,v="",b="function",y=this.escapeExpression,A=this,x=n.helperMissing;return v+='<div class="row header">\n    <div class="col-sm-8">\n        <h1>'+y((m=t&&t.unit,m=null==m||m===!1?m:m.key,typeof m===b?m.apply(t):m))+" ",(f=n.type)?m=f.call(t,{hash:{},data:r}):(f=t&&t.type,m=typeof f===b?f.call(t,{hash:{},data:r}):f),v+=y(m)+"</h1>\n        <h2>"+y((f=n.dateFormat||t&&t.dateFormat,g={hash:{format:"ll HH:mm"},data:r},f?f.call(t,t&&t.datetime,g):x.call(t,"dateFormat",t&&t.datetime,g)))+" <small>",m=n["if"].call(t,t&&t.mandatory,{hash:{},inverse:A.program(3,s,r),fn:A.program(1,a,r),data:r}),(m||0===m)&&(v+=m),v+="</small></h2>\n        <h3>",m=n["if"].call(t,(m=t&&t.server,null==m||m===!1?m:m.name),{hash:{},inverse:A.noop,fn:A.program(5,o,r),data:r}),(m||0===m)&&(v+=m),v+='</h3>\n    </div>\n    <div class="col-sm-4">\n        ',m=n["if"].call(t,t&&t.user_expected,{hash:{},inverse:A.noop,fn:A.program(7,l,r),data:r}),(m||0===m)&&(v+=m),v+="\n        ",f=n.if_inarray||t&&t.if_inarray,g={hash:{compare:t&&t.items},inverse:A.noop,fn:A.program(12,u,r),data:r},m=f?f.call(t,"event_aar",g):x.call(t,"if_inarray","event_aar",g),(m||0===m)&&(v+=m),v+="\n    </div>\n</div>\n",m=n["if"].call(t,t&&t.user_expected,{hash:{},inverse:A.noop,fn:A.program(14,p,r),data:r}),(m||0===m)&&(v+=m),v+="\n\n",m=n["if"].call(t,t&&t.report,{hash:{},inverse:A.noop,fn:A.program(16,d,r),data:r}),(m||0===m)&&(v+=m),v+='\n\n<ul id="attendance"></ul>'})}),define("hbs!templates/event_attendee",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+="\r\n        ",i=n["if"].call(e,e&&e.excused,{hash:{},inverse:h.program(4,o,t),fn:h.program(2,s,t),data:t}),(i||0===i)&&(r+=i),r+="\r\n    "}function s(){return'\r\n            <span class="label label-warning">Excused</span>\r\n        '}function o(){return'\r\n            <span class="label label-danger">AWOL</span>\r\n        '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var l,c="",h=this,u="function",p=this.escapeExpression;return c+='<li>\r\n    <a href="#members/'+p((l=t&&t.member,l=null==l||l===!1?l:l.id,typeof l===u?l.apply(t):l))+'">'+p((l=t&&t.member,l=null==l||l===!1?l:l.short_name,typeof l===u?l.apply(t):l))+"</a>\r\n    ",l=n.unless.call(t,t&&t.attended,{hash:{},inverse:h.noop,fn:h.program(1,a,r),data:r}),(l||0===l)&&(c+=l),c+="\r\n</li>"})}),define("views/event_attendee",["jquery","underscore","backbone","hbs!templates/event_attendee","marionette"],function(e,t,n,i){return n.Marionette.ItemView.extend({template:i,modelEvents:{change:"render"}})}),define("views/event",["jquery","underscore","backbone","config","hbs!templates/event","views/event_attendee","marionette"],function(e,t,n,i,r,a){return n.Marionette.CompositeView.extend({template:r,itemView:a,itemViewContainer:"ul",events:{"click #loa-cancel, #loa-post":"onClickLOA"},initialize:function(e){e=e||{},t.bindAll(this,"onClickLOA"),this.user=e.user||{},this.unitPermissions=e.unitPermissions||{}},onBeforeRender:function(){var e=(this.options.user.get("id"),this.getRSVP(this.options.user.get("id")));this.model.set("user_expected",this.isExpected(this.model)),e&&this.model.set("user_rsvp",e.toJSON())},onRender:function(){this.model.get("unit").abbr&&(this.title=this.model.get("unit").abbr+" "+this.model.get("type"))},serializeData:function(){return t.extend({items:this.unitPermissions.pluck("abbr")},this.model.toJSON())},isExpected:function(e){var t=!1;return this.options.userAssignments.length&&e.get("unit").id&&this.options.userAssignments.any(function(n){return n.get("path_array")||n.set("path_array",n.get("unit").path.split("/").map(function(e){return e?parseInt(e,10):void 0})),n.get("unit").id===e.get("unit").id||n.get("path_array").indexOf(parseInt(e.get("unit").id,10))>-1?(t=!0,!0):void 0}),t},getRSVP:function(e){return this.collection.find(function(t){return t.get("member").id===e})},onClickLOA:function(t){t.preventDefault();var n=t.currentTarget,r="loa-post"===n.id?1:0,a=this.getRSVP(this.user.get("id"));a&&null!==a.get("attended")?a.save({excused:r},{method:r?"POST":"DELETE",wait:!0,success:function(){e(n).parent().removeClass(r?"loa-post":"loa-cancel").addClass(r?"loa-cancel":"loa-post")}}):r?this.collection.create({attended:null,excused:1,member:{id:this.user.get("id"),short_name:this.user.get("short_name")}},{wait:!0,success:function(){e(n).parent().removeClass("loa-post").addClass("loa-cancel")}}):(a.id=this.user.get("id"),console.log("New?",a.isNew()),a.destroy({url:i.apiHost+"/events/"+this.collection.id+"/excuse",wait:!0,success:function(){e(n).parent().removeClass("loa-cancel").addClass("loa-post")}}))}})}),define("hbs!templates/aar",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(){return" Mandatory "}function s(){return" Non-Mandatory "}function o(e){var t;return d((t=e&&e.server,t=null==t||t===!1?t:t.name,typeof t===p?t.apply(e):t))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var l,c,h,u="",p="function",d=this.escapeExpression,m=n.helperMissing,f=this;return u+='<div class="row header">\r\n        <h1>'+d((l=t&&t.unit,l=null==l||l===!1?l:l.key,typeof l===p?l.apply(t):l))+" ",(c=n.type)?l=c.call(t,{hash:{},data:r}):(c=t&&t.type,l=typeof c===p?c.call(t,{hash:{},data:r}):c),u+=d(l)+"</h1>\r\n        <h2>"+d((c=n.dateFormat||t&&t.dateFormat,h={hash:{format:"ll HH:mm"},data:r},c?c.call(t,t&&t.datetime,h):m.call(t,"dateFormat",t&&t.datetime,h)))+" <small>",l=n["if"].call(t,t&&t.mandatory,{hash:{},inverse:f.program(3,s,r),fn:f.program(1,a,r),data:r}),(l||0===l)&&(u+=l),u+="</small></h2>\r\n        <h3>",l=n["if"].call(t,(l=t&&t.server,null==l||l===!1?l:l.name),{hash:{},inverse:f.noop,fn:f.program(5,o,r),data:r}),(l||0===l)&&(u+=l),u+='</h3>\r\n</div>\r\n<form>\r\n    <div class="row">\r\n        <div class="col-sm-4" id="attendance"></div>\r\n        <div class="col-sm-8">\r\n            <div class="form-group">\r\n                <label for="report">After Action Report</label>\r\n                <textarea name="report" class="form-control" rows="15">',(c=n.report)?l=c.call(t,{hash:{},data:r}):(c=t&&t.report,l=typeof c===p?c.call(t,{hash:{},data:r}):c),u+=d(l)+'</textarea>\r\n            </div>\r\n            <button type="submit" class="btn btn-primary btn-lg">Submit</button>\r\n        </div>\r\n    </div>\r\n</form>'})}),define("views/aar",["jquery","underscore","backbone","hbs!templates/aar","marionette"],function(e,t,n,i){return n.Marionette.Layout.extend({template:i,regions:{attendanceRegion:"#attendance"},events:{"submit form":"onSubmitForm"},initialize:function(){t.bindAll(this,"onSubmitForm")},onSubmitForm:function(t){t.preventDefault();var i=this.model.get("id"),r={report:t.currentTarget.report.value,attended:e('[name="attendance"]:checked',t.currentTarget).map(function(){return e(this).val()}).get(),absent:e('[name="attendance"]:not(:checked)',t.currentTarget).map(function(){return e(this).val()}).get()};this.model.save(r,{method:"POST",success:function(){n.history.navigate("events/"+i,{trigger:!0})}})}})}),define("hbs!templates/flash",["handlebars"],function(e){return e.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var a,s,o="",l="function",c=this.escapeExpression;return o+='<div class="alert alert-dismissable ',(s=n.type)?a=s.call(t,{hash:{},data:r}):(s=t&&t.type,a=typeof s===l?s.call(t,{hash:{},data:r}):s),o+=c(a)+'">\n    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\n    ',(s=n.msg)?a=s.call(t,{hash:{},data:r}):(s=t&&t.msg,a=typeof s===l?s.call(t,{hash:{},data:r}):s),o+=c(a)+"\n</div>"})}),define("views/flash",["jquery","underscore","backbone","hbs!templates/flash","marionette"],function(e,t,n,i){var r={success:"alert-success",info:"alert-info",warning:"alert-warning",error:"alert-danger"};return n.Marionette.ItemView.extend({template:i,initialize:function(e){e=e||{},this.msg=e.msg||"Unknown",this.type=r[e.type]||r.info},serializeData:function(){return{msg:this.msg,type:this.type}}})}),define("hbs!templates/enlistments",["handlebars"],function(e){return e.template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="btn-group" id="filter-status">\n    <button type="button" class="btn btn-default active" data-status="">All</button>\n    <button type="button" class="btn btn-default" data-status="pending">Pending</button>\n    <button type="button" class="btn btn-default" data-status="accepted">Accepted</button>\n    <button type="button" class="btn btn-default" data-status="denied">Denied</button>\n    <button type="button" class="btn btn-default" data-status="withdrawn">Withdrawn</button>\n</div>\n\n<table class="table">\n    <thead>\n        <tr>\n            <th>Date</th>\n            <th>Status</th>\n            <th>Unit</th>\n            <th>Name</th>\n            <th>Liaison</th>\n        </tr>\n    </thead>\n    <tbody id="rows"></tbody>\n</table>\n\n<button class="btn btn-large btn-block more" type="button" data-loading-text="Loading" data-error-text="Error">More</button>'})}),define("hbs!templates/enlistments_item",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e){var t,n="";return n+=", "+p((t=e&&e.first_name,typeof t===u?t.apply(e):t))}function s(e){var t,n="";return n+='<a href="#members/'+p((t=e&&e.liaison,t=null==t||t===!1?t:t.id,typeof t===u?t.apply(e):t))+'">'+p((t=e&&e.liaison,t=null==t||t===!1?t:t.short_name,typeof t===u?t.apply(e):t))+"</a>"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,l,c,h="",u="function",p=this.escapeExpression,d=n.helperMissing,m=this;return h+='<td><a href="#enlistments/'+p((o=t&&t.id,typeof o===u?o.apply(t):o))+'">'+p((l=n.dateFormat||t&&t.dateFormat,c={hash:{format:"ll"},data:r},l?l.call(t,t&&t.date,c):d.call(t,"dateFormat",t&&t.date,c)))+"</a></td>\n<td>"+p((o=t&&t.status,typeof o===u?o.apply(t):o))+'</td>\n<td><a href="#units/'+p((o=t&&t.unit,o=null==o||o===!1?o:o.key,typeof o===u?o.apply(t):o))+'">'+p((o=t&&t.unit,o=null==o||o===!1?o:o.abbr,typeof o===u?o.apply(t):o))+"</a></td>\n<td>"+p((o=t&&t.last_name,typeof o===u?o.apply(t):o)),o=n["if"].call(t,t&&t.first_name,{hash:{},inverse:m.noop,fn:m.program(1,a,r),data:r}),(o||0===o)&&(h+=o),h+="</td>\n<td>",o=n["if"].call(t,(o=t&&t.liaison,null==o||o===!1?o:o.id),{hash:{},inverse:m.noop,fn:m.program(3,s,r),data:r}),(o||0===o)&&(h+=o),h+="</td>"})}),define("views/enlistments",["jquery","underscore","backbone","hbs!templates/enlistments","hbs!templates/enlistments_item","marionette"],function(e,t,n,i,r){var a=n.Marionette.ItemView.extend({template:r,tagName:"tr"});return n.Marionette.CompositeView.extend({template:i,itemView:a,itemViewContainer:"#rows",initialize:function(){t.bindAll(this,"onClickMore","onClickBtnGroup")},events:{"click .more":"onClickMore","click .btn-group .btn":"onClickBtnGroup"},onRender:function(){this.checkMoreButton()},onClickMore:function(t){t.preventDefault();var n=this,i=e(t.currentTarget);i.button("loading"),this.collection.nextPage().fetch({remove:!1,success:function(){i.button("reset"),n.checkMoreButton()},error:function(){i.button("error")}})},checkMoreButton:function(){this.$(".more").toggle(this.collection.more)},onClickBtnGroup:function(t){var n=e(t.currentTarget),i=this,r=n.data("status");e(".btn-group .btn").removeClass("active"),n.addClass("active"),this.collection.setFilter("status",r).fetch({success:function(){i.checkMoreButton()}})}})}),define("hbs!templates/enlistment",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e,t){var i,r,a="";return a+='\n    <a href="#enlistments/',(r=n.id)?i=r.call(e,{hash:{},data:t}):(r=e&&e.id,i=typeof r===f?r.call(e,{hash:{},data:t}):r),a+=g(i)+'/edit" class="btn btn-default pull-right">Modify Enlistment</a>\n'}function s(e){var t,n="";return n+='\n    <a href="#members/'+g((t=e&&e.member,t=null==t||t===!1?t:t.id,typeof t===f?t.apply(e):t))+'/edit" class="btn btn-default pull-right">Modify Profile</a>\n'}function o(e){var t,n="";return n+='<a href="#members/'+g((t=e&&e.member,t=null==t||t===!1?t:t.id,typeof t===f?t.apply(e):t))+'">'+g((t=e&&e.member,t=null==t||t===!1?t:t.short_name,typeof t===f?t.apply(e):t))+"</a>"}function l(e){var t,n="";return n+='<a href="#members/'+g((t=e&&e.unit,t=null==t||t===!1?t:t.key,typeof t===f?t.apply(e):t))+'">'+g((t=e&&e.unit,t=null==t||t===!1?t:t.abbr,typeof t===f?t.apply(e):t))+"</a>"}function c(e){var t,n="";return n+='<a href="#members/'+g((t=e&&e.liaison,t=null==t||t===!1?t:t.id,typeof t===f?t.apply(e):t))+'">'+g((t=e&&e.liaison,t=null==t||t===!1?t:t.short_name,typeof t===f?t.apply(e):t))+"</a>"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var h,u,p,d,m="",f="function",g=this.escapeExpression,v=this,b=n.helperMissing;return p=n.if_inarray||t&&t.if_inarray,d={hash:{compare:t&&t.permissions},inverse:v.noop,fn:v.program(1,a,r),data:r},h=p?p.call(t,"enlistment_process",d):b.call(t,"if_inarray","enlistment_process",d),(h||0===h)&&(m+=h),m+="\n\n",p=n.if_inarray||t&&t.if_inarray,d={hash:{compare:t&&t.permissions},data:r},h=p?p.call(t,"profile_edit_any",d):b.call(t,"if_inarray","profile_edit_any",d),p=n.if_inarray||t&&t.if_inarray,d={hash:{compare:t&&t.memberPermissions},data:r},u=p?p.call(t,"profile_edit",d):b.call(t,"if_inarray","profile_edit",d),p=n.or||t&&t.or,d={hash:{},inverse:v.noop,fn:v.program(3,s,r),data:r},h=p?p.call(t,u,h,d):b.call(t,"or",u,h,d),(h||0===h)&&(m+=h),m+='\n\n<table class="table table-horizontal">\n    <tr>\n        <th>Member</th>\n        <td>',h=n["if"].call(t,(h=t&&t.member,null==h||h===!1?h:h.id),{hash:{},inverse:v.noop,fn:v.program(5,o,r),data:r}),(h||0===h)&&(m+=h),m+="</td>\n    </tr>\n    <tr>\n        <th>Unit</th>\n        <td>",h=n["if"].call(t,(h=t&&t.unit,null==h||h===!1?h:h.id),{hash:{},inverse:v.noop,fn:v.program(7,l,r),data:r}),(h||0===h)&&(m+=h),m+="</td>\n    </tr>\n    <tr>\n        <th>Status</th>\n        <td>",(p=n.status)?h=p.call(t,{hash:{},data:r}):(p=t&&t.status,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    <tr>\n        <th>Date</th>\n        <td>"+g((p=n.dateFormat||t&&t.dateFormat,d={hash:{format:"ll"},data:r},p?p.call(t,t&&t.date,d):b.call(t,"dateFormat",t&&t.date,d)))+"</td>\n    </tr>\n    <tr>\n        <th>Liaison</th>\n        <td>",h=n["if"].call(t,(h=t&&t.liaison,null==h||h===!1?h:h.id),{hash:{},inverse:v.noop,fn:v.program(9,c,r),data:r}),(h||0===h)&&(m+=h),m+="</td>\n    </tr>\n    <tr>\n        <th>Last Name</th>\n        <td>",(p=n.last_name)?h=p.call(t,{hash:{},data:r}):(p=t&&t.last_name,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    <tr>\n        <th>First Name</th>\n        <td>",(p=n.first_name)?h=p.call(t,{hash:{},data:r}):(p=t&&t.first_name,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    <tr>\n        <th>Middle Name</th>\n        <td>",(p=n.middle_name)?h=p.call(t,{hash:{},data:r}):(p=t&&t.middle_name,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    <tr>\n        <th>Age</th>\n        <td>",(p=n.age)?h=p.call(t,{hash:{},data:r}):(p=t&&t.age,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    <tr>\n        <th>Country</th>\n        <td>"+g((h=t&&t.country,h=null==h||h===!1?h:h.name,typeof h===f?h.apply(t):h))+"</td>\n    </tr>\n    <tr>\n        <th>Preferred Time</th>\n        <td>",(p=n.timezone)?h=p.call(t,{hash:{},data:r}):(p=t&&t.timezone,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    <tr>\n        <th>Game</th>\n        <td>",(p=n.game)?h=p.call(t,{hash:{},data:r}):(p=t&&t.game,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    </tr>\n    <tr>\n        <th>In-Game Name</th>\n        <td>",(p=n.ingame_name)?h=p.call(t,{hash:{},data:r}):(p=t&&t.ingame_name,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    </tr>\n    <tr>\n        <th>Steam ID</th>\n        <td>",(p=n.steam_id)?h=p.call(t,{hash:{},data:r}):(p=t&&t.steam_id,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    </tr>\n    <tr>\n        <th>Email</th>\n        <td>",(p=n.email)?h=p.call(t,{hash:{},data:r}):(p=t&&t.email,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    </tr>\n    <tr>\n        <th>Realism Experience</th>\n        <td>",(p=n.experience)?h=p.call(t,{hash:{},data:r}):(p=t&&t.experience,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    </tr>\n    <tr>\n        <th>Recruiter</th>\n        <td>",(p=n.recruiter)?h=p.call(t,{hash:{},data:r}):(p=t&&t.recruiter,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n    </tr>\n    <tr>\n        <th>Other Comments</th>\n        <td>",(p=n.comments)?h=p.call(t,{hash:{},data:r}):(p=t&&t.comments,h=typeof p===f?p.call(t,{hash:{},data:r}):p),m+=g(h)+"</td>\n    </tr>\n</table>"
})}),define("views/enlistment",["jquery","underscore","backbone","hbs!templates/enlistment","marionette"],function(e,t,n,i){return n.Marionette.ItemView.extend({template:i,initialize:function(e){e=e||{},this.permissions=e.permissions||{},this.memberPermissions=e.memberPermissions||{}},serializeData:function(){return e.extend({permissions:this.permissions.length?this.permissions.pluck("abbr"):[],memberPermissions:this.memberPermissions.length?this.memberPermissions.pluck("abbr"):[]},this.model.toJSON())}})}),define("hbs!templates/enlistment_edit",["handlebars"],function(e){return e.template(function(e,t,n,i,r){function a(e,t){var i,r,a,o="";return o+='\n    <div class="form-group">\n        <label for="unit_id">Unit</label>\n        <select class="form-control" name="unit_id" id="unit_id">\n            ',r=n.select||e&&e.select,a={hash:{},inverse:x.noop,fn:x.program(2,s,t),data:t},i=r?r.call(e,e&&e.unit_id,a):w.call(e,"select",e&&e.unit_id,a),(i||0===i)&&(o+=i),o+='\n        </select>\n    </div>\n    \n    <div class="form-group">\n        <label for="status">Status</label>\n        <select class="form-control" name="status" id="status">\n            ',r=n.select||e&&e.select,a={hash:{},inverse:x.noop,fn:x.program(5,l,t),data:t},i=r?r.call(e,e&&e.status,a):w.call(e,"select",e&&e.status,a),(i||0===i)&&(o+=i),o+="\n        </select>\n    </div>\n    "}function s(e,t){var i,r="";return r+='\n            <option value="">Select...</option>\n            ',i=n.each.call(e,e&&e.tps,{hash:{},inverse:x.noop,fn:x.program(3,o,t),data:t}),(i||0===i)&&(r+=i),r+="\n            "}function o(e){var t,n="";return n+='\n            <option value="'+A((t=e&&e.id,typeof t===y?t.apply(e):t))+'">'+A((t=e&&e.abbr,typeof t===y?t.apply(e):t))+"</option>\n            "}function l(){return'\n            <option value="">Select...</option>\n            <option value="Pending">Pending</option>\n            <option value="Accepted">Accepted</option>\n            <option value="Denied">Denied</option>\n            <option value="Withdrawn">Withdrawn</option>\n            '}function c(e,t){var i,r="";return r+='\n            <option value="">Select...</option>\n            <option value="Under 13">Under 13</option>\n            ',i=n.each.call(e,e&&e.ages,{hash:{},inverse:x.noop,fn:x.program(8,h,t),data:t}),(i||0===i)&&(r+=i),r+="\n            "}function h(e){var t="";return t+='\n            <option value="'+A(typeof e===y?e.apply(e):e)+'">'+A(typeof e===y?e.apply(e):e)+"</option>\n            "}function u(e,t){var i,r="";return r+='\n            <option value="">Select...</option>\n            ',i=n.each.call(e,e&&e.countries,{hash:{},inverse:x.noop,fn:x.program(11,p,t),data:t}),(i||0===i)&&(r+=i),r+="\n            "}function p(e){var t,n="";return n+='\n            <option value="'+A((t=e&&e.id,typeof t===y?t.apply(e):t))+'">'+A((t=e&&e.name,typeof t===y?t.apply(e):t))+"</option>\n            "}function d(){return'\n            <option value="">Select...</option>\n            <option value="EST">7pm EST (Midnight GMT)</option>\n            <option value="GMT">2pm EST (7pm GMT)</option>\n            <option value="Either">Either</option>\n            <option value="Neither">Neither</option>\n            '}function m(){return'\n            <option value="">Select...</option>\n            <option value="DH">Darkest Hour</option>\n            <option value="RS">Rising Storm</option>\n            <option value="Arma 3">Arma 3</option>\n            '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var f,g,v,b="",y="function",A=this.escapeExpression,x=this,w=n.helperMissing;return b+='<form role="form">\n    ',f=n["if"].call(t,t&&t.id,{hash:{},inverse:x.noop,fn:x.program(1,a,r),data:r}),(f||0===f)&&(b+=f),b+='\n    \n    <div class="form-group">\n        <label for="last_name">Last Name</label>\n        <input type="text" class="form-control" name="last_name" id="last_name" value="',(g=n.last_name)?f=g.call(t,{hash:{},data:r}):(g=t&&t.last_name,f=typeof g===y?g.call(t,{hash:{},data:r}):g),b+=A(f)+'">\n        <p class="help-block">Please use your real name or a realistic sounding name.</p>\n    </div>\n    \n    <div class="form-group">\n        <label for="first_name">First Name</label>\n        <input type="text" class="form-control" name="first_name" id="first_name" value="',(g=n.first_name)?f=g.call(t,{hash:{},data:r}):(g=t&&t.first_name,f=typeof g===y?g.call(t,{hash:{},data:r}):g),b+=A(f)+'">\n    </div>\n    \n    <div class="form-group">\n        <label for="middle_name">Middle Initial</label>\n        <input type="text" class="form-control" name="middle_name" id="middle_name" value="',(g=n.middle_name)?f=g.call(t,{hash:{},data:r}):(g=t&&t.middle_name,f=typeof g===y?g.call(t,{hash:{},data:r}):g),b+=A(f)+'">\n    </div>\n    \n    <div class="form-group">\n        <label for="age">Age</label>\n        <select class="form-control" name="age" id="age">\n            ',g=n.select||t&&t.select,v={hash:{},inverse:x.noop,fn:x.program(7,c,r),data:r},f=g?g.call(t,t&&t.age,v):w.call(t,"select",t&&t.age,v),(f||0===f)&&(b+=f),b+='\n        </select>\n    </div>\n    \n    <div class="form-group">\n        <label for="country_id">Country</label>\n        <select class="form-control" name="country_id" id="country_id">\n            ',g=n.select||t&&t.select,v={hash:{},inverse:x.noop,fn:x.program(10,u,r),data:r},f=g?g.call(t,t&&t.country_id,v):w.call(t,"select",t&&t.country_id,v),(f||0===f)&&(b+=f),b+='\n        </select>\n    </div>\n    \n    <div class="form-group">\n        <label for="timezone">Preferred Time</label>\n        <select class="form-control" name="timezone" id="timezone">\n            ',g=n.select||t&&t.select,v={hash:{},inverse:x.noop,fn:x.program(13,d,r),data:r},f=g?g.call(t,t&&t.timezone,v):w.call(t,"select",t&&t.timezone,v),(f||0===f)&&(b+=f),b+='\n        </select>\n        <p class="help-block">Which time do you prefer for practicing? (Give or take an hour)</p>\n    </div>\n    \n    <div class="form-group">\n        <label for="game">Game</label>\n        <select class="form-control" name="game" id="game">\n            ',g=n.select||t&&t.select,v={hash:{},inverse:x.noop,fn:x.program(15,m,r),data:r},f=g?g.call(t,t&&t.game,v):w.call(t,"select",t&&t.game,v),(f||0===f)&&(b+=f),b+='\n        </select>\n        <p class="help-block">Which game are you enlisting in?</p>\n    </div>\n    \n    <div class="form-group">\n        <label for="ingame_name">In-Game Name</label>\n        <input type="text" class="form-control" name="ingame_name" id="ingame_name" value="',(g=n.ingame_name)?f=g.call(t,{hash:{},data:r}):(g=t&&t.ingame_name,f=typeof g===y?g.call(t,{hash:{},data:r}):g),b+=A(f)+'">\n        <p class="help-block">What name do you play with?</p>\n    </div>\n    \n    <div class="form-group">\n        <label for="steam_id">Steam ID</label>\n        <input type="text" class="form-control" name="steam_id" id="steam_id" value="',(g=n.steam_id)?f=g.call(t,{hash:{},data:r}):(g=t&&t.steam_id,f=typeof g===y?g.call(t,{hash:{},data:r}):g),b+=A(f)+'">\n        <p class="help-block">Your Steam Identification Number. <a href="http://29th.org/roid" target="_blank">Click here for help</a>.</p>\n    </div>\n    \n    <div class="form-group">\n        <label for="email">Working Email</label>\n        <input type="text" class="form-control" name="email" id="email" value="',(g=n.email)?f=g.call(t,{hash:{},data:r}):(g=t&&t.email,f=typeof g===y?g.call(t,{hash:{},data:r}):g),b+=A(f)+'">\n        <p class="help-block">Will be kept private. We will need this to email you information about Basic Training.</p>\n    </div>\n    \n    <div class="form-group">\n        <label for="experience">Realism Experience</label>\n        <textarea class="form-control" rows="3" name="experience" id="experience">',(g=n.experience)?f=g.call(t,{hash:{},data:r}):(g=t&&t.experience,f=typeof g===y?g.call(t,{hash:{},data:r}):g),b+=A(f)+'</textarea>\n        <p class="help-block">If you have ever been in a realism unit(s), what one(s), what rank(s), and name(s) have you used? Why are you no longer with the unit(s)? Please provide all this information to ensure acceptance. If you\'ve never been in a realism unit, simply write "None".</p>\n    </div>\n    \n    <div class="form-group">\n        <label for="recruiter">Who Recruited You?</label>\n        <input type="text" class="form-control" name="recruiter" id="recruiter" value="',(g=n.recruiter)?f=g.call(t,{hash:{},data:r}):(g=t&&t.recruiter,f=typeof g===y?g.call(t,{hash:{},data:r}):g),b+=A(f)+'">\n        <p class="help-block">What was the name of the 29th member who asked you to enlist? If you were not recruited by someone, how did you find out about the 29th Infantry Division?</p>\n    </div>\n    \n    <div class="form-group">\n        <label for="comments">Other Comments</label>\n        <textarea class="form-control" rows="3" name="comments" id="comments">',(g=n.comments)?f=g.call(t,{hash:{},data:r}):(g=t&&t.comments,f=typeof g===y?g.call(t,{hash:{},data:r}):g),b+=A(f)+'</textarea>\n    </div>\n    \n    <button type="submit" class="btn btn-primary btn-lg btn-block">Submit</button>\n</form>'})}),define("views/enlistment_edit",["jquery","underscore","backbone","hbs!templates/enlistment_edit","json!countries.json","marionette"],function(e,t,n,i,r){return n.Marionette.ItemView.extend({template:i,title:"Enlistment",events:{"submit form":"onSubmitForm"},initialize:function(e){e=e||{},this.tps=e.tps||{},t.bindAll(this,"onSubmitForm"),this.ages=[];var n;for(n=13;99>=n;n++)this.ages.push(n)},serializeData:function(){return e.extend({ages:this.ages,countries:r,tps:this.tps.length?this.tps.at(0).get("children").toJSON():{}},this.model.toJSON())},onSubmitForm:function(t){t.preventDefault();var i=this.model.get("id");this.model.save(e(t.currentTarget).serializeObject(),{method:"POST",patch:!0,success:function(){n.history.navigate("enlistments/"+i,{trigger:!0})}})}})}),function(e,t){"object"==typeof exports?module.exports=t(require("handlebars")):"function"==typeof define&&define.amd?define("handlebars.helpers",["handlebars"],t):e.returnExports=t(e.Handlebars)}(this,function(e){e.registerHelper("if_eq",function(e,t){return e==t.hash.compare?t.fn(this):t.inverse(this)}),e.registerHelper("unless_eq",function(e,t){return e==t.hash.compare?t.inverse(this):t.fn(this)}),e.registerHelper("if_gt",function(e,t){return e>t.hash.compare?t.fn(this):t.inverse(this)}),e.registerHelper("unless_gt",function(e,t){return e>t.hash.compare?t.inverse(this):t.fn(this)}),e.registerHelper("if_lt",function(e,t){return e<t.hash.compare?t.fn(this):t.inverse(this)}),e.registerHelper("unless_lt",function(e,t){return e<t.hash.compare?t.inverse(this):t.fn(this)}),e.registerHelper("if_gteq",function(e,t){return e>=t.hash.compare?t.fn(this):t.inverse(this)}),e.registerHelper("unless_gteq",function(e,t){return e>=t.hash.compare?t.inverse(this):t.fn(this)}),e.registerHelper("if_lteq",function(e,t){return e<=t.hash.compare?t.fn(this):t.inverse(this)}),e.registerHelper("unless_lteq",function(e,t){return e<=t.hash.compare?t.inverse(this):t.fn(this)}),e.registerHelper("nl2br",function(t){t=e.Utils.escapeExpression(t);var n=(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2");return new e.SafeString(n)}),e.registerHelper("if_inarray",function(e,t){return t.hash.compare.indexOf(e)>-1?t.fn?t.fn(this):!0:t.inverse?t.inverse(this):!1}),e.registerHelper("inarray",function(e,t){return t.hash.haystack.indexOf(t.hash.needle)>-1?"1":"0"}),e.registerHelper("dateFormat",function(e,t){if(window.moment){var n=t.hash.format||"MMM Do, YYYY";return window.moment(e).format(n)}return e}),e.registerHelper("join",function(e,t){return e.join(t.hash.delimiter)}),e.registerHelper("or",function(e,t,n){return e||t?n.fn(this):n.inverse(this)}),e.registerHelper("add",function(e,t){return e+t}),e.registerHelper("subtract",function(e,t){return e-t}),e.registerHelper("length",function(e){return e.length}),e.registerHelper("select",function(e,t){var n=$("<select />").html(t.fn(this));return n.find("[value="+e+"]").attr({selected:"selected"}),n.html()}),e.registerHelper("chain",function(){var t,n=[];return $.each(arguments,function(i,r){return e.helpers[r]?void n.push(e.helpers[r]):(t=r,$.each(n,function(e,n){t=n(t,arguments[i+1])}),!1)}),t})}),define("router",["jquery","underscore","backbone","marionette","handlebars","util","models/member","models/user","models/event","models/enlistment","collections/units","collections/assignments","collections/permissions","collections/promotions","collections/awardings","collections/member_enlistments","collections/member_attendance","collections/event_attendance","collections/unit_attendance","collections/qualifications","collections/events","collections/enlistments","views/member","views/unit","views/roster","views/nav","views/member_admin","views/member_profile","views/member_edit","views/service_record","views/member_attendance","views/unit_attendance","views/qualifications","views/calendar","views/event","views/aar","views/flash","views/enlistments","views/enlistment","views/enlistment_edit","handlebars.helpers","jquery-bootstrap","moment","fullcalendar"],function(e,t,n,i,r,a,s,o,l,c,h,u,p,d,m,f,g,v,b,y,A,x,w,S,E,_,N,k,I,O,R,C,M,T,P,L,q,H,D,j){return n.Router.extend({routes:{"":"roster","units/:filter/*path":"unit","units/:filter":"unit","members/:id/*path":"member","members/:id":"member",calendar:"calendar","events/:id":"event","events/:id/aar":"aar","enlistments/:id/edit":"enlistment_edit","enlistments/:id":"enlistment",enlistments:"enlistments",enlist:"enlistment_edit"},initialize:function(e){e=e||{},this.app=e.app||new n.Marionette.Application,this.user=new o;var t=new _({model:this.user});this.app.navRegion.show(t),this.user.fetch()},showView:function(t){this.app.mainRegion.show(t),document.title=void 0!==t.title&&t.title?t.title:e("title").text(),a.scrollToTop()},flash:function(e,t){console.log("Error",e,t);var n=new q({msg:e,type:t});this.app.flashRegion.show(n)},roster:function(t){var n=this,i=[],r=new h(null,{filter:t||"Bn",children:!0,members:!0,active:!0}),s=new E({collection:r});this.app.navRegion.currentView.setHighlight("roster"),i.push(r.fetch()),a.loading(!0),e.when.apply(e,i).done(function(){a.loading(!1),n.showView(s)})},unit:function(t,n){var i=this,r=[],s=new h(null,{filter:t||"Bn",active:!0}),o=new S({collection:s});this.app.navRegion.currentView.setHighlight("roster");var l;if(n=n?n.replace(/\//g,""):"","attendance"==n){o.setHighlight("attendance");var c=new b(null,{filter:t||"Bn"});r.push(c.fetch()),l=new C({collection:c})}else o.setHighlight("roster"),s.children=!0,s.members=!0,l=new E({collection:s});r.push(s.fetch()),a.loading(!0),e.when.apply(e,r).done(function(){a.loading(!1),i.showView(o),l&&o.pageRegion.show(l)})},member:function(t,n){var i=this,r=[],o=new s({id:t}),l=new u(null,{member_id:t}),c=new p,h=new p(null,{member_id:t}),v=new w({model:o,assignments:l}),b=new N({permissions:c,memberPermissions:h});this.app.navRegion.currentView.setHighlight("roster"),r.push(o.fetch(),l.fetch(),c.fetch(),h.fetch());var A;if(n=n?n.replace(/\//g,""):"","servicerecord"==n){v.setHighlight("servicerecord");var x=new d(null,{member_id:t});r.push(x.fetch());var S=new m(null,{member_id:t});r.push(S.fetch());var E=new f(null,{member_id:t});r.push(E.fetch()),A=new O({assignments:l,promotions:x,awardings:S,enlistments:E})}else if("attendance"==n){v.setHighlight("attendance");var _=new g(null,{member_id:t});r.push(_.fetch()),A=new R({collection:_})}else if("qualifications"==n){v.setHighlight("qualifications");var C=new y(null,{member_id:t});r.push(C.fetch()),A=new M({collection:C})}else"edit"==n?(v.setHighlight("profile"),A=new I({model:o})):(v.setHighlight("profile"),A=new k({model:o}));a.loading(!0),e.when.apply(e,r).done(function(){a.loading(!1),i.showView(v),v.adminRegion.show(b),A&&v.pageRegion.show(A)})},calendar:function(){var t=this,n=[],i=new A,r=new u(null,{current:!0}),s=new T({collection:i,userAssignments:r});this.app.navRegion.currentView.setHighlight("calendar"),n.push(r.fetch()),a.loading(!0),e.when.apply(e,n).done(function(){a.loading(!1),t.showView(s)})},event:function(t){var n=this,i=[],r=new u(null,{current:!0}),s=new l({id:t}),o=new v(null,{id:t}),c=new p,h=new P({model:s,collection:o,user:this.user,userAssignments:r,unitPermissions:c});o.on("request",function(){a.loading(!0)}).on("sync",function(){a.loading(!1)}).on("error",function(e,t){n.flash(t.responseJSON.error||"","error"),a.loading(!1)}),this.app.navRegion.currentView.setHighlight("calendar"),i.push(s.fetch(),r.fetch()),a.loading(!0),e.when.apply(e,i).done(function(){s.get("attendance").length&&o.add(s.get("attendance")),c.unit_id=s.get("unit").id,i=[],i.push(c.fetch()),e.when.apply(e,i).done(function(){a.loading(!1),n.showView(h)})})},aar:function(t){var n=this,i=[],r=new l({id:t}),s=new h(null,{children:!0,members:!0,active:!0}),o=new v(null,{id:t}),c=new L({model:r}),u=new E({collection:s,eventAttendance:o,attendance:!0});r.on("request",function(){a.loading(!0)}).on("sync",function(){a.loading(!1)}).on("error",function(e,t){n.flash(t.responseJSON.error||"","error"),a.loading(!1)}),this.app.navRegion.currentView.setHighlight("calendar"),i.push(r.fetch()),e.when.apply(e,i).done(function(){s.filter=r.get("unit").id,r.get("attendance").length&&o.add(r.get("attendance")),i=[],i.push(s.fetch()),e.when.apply(e,i).done(function(){n.showView(c),c.attendanceRegion.show(u)})})},enlistments:function(){var t=this,n=[],i=new x,r=new H({collection:i});this.app.navRegion.currentView.setHighlight("enlistments"),n.push(i.fetch()),a.loading(!0),e.when.apply(e,n).done(function(){a.loading(!1),t.showView(r)})},enlistment:function(t){var n=this,i=[],r=new c({id:t}),s=new p,o=new p,l=new D({model:r,permissions:s,memberPermissions:o});this.app.navRegion.currentView.setHighlight("enlistments"),i.push(r.fetch(),s.fetch()),a.loading(!0),e.when.apply(e,i).done(function(){o.member_id=r.get("member").id,i=[],i.push(o.fetch()),e.when.apply(e,i).done(function(){a.loading(!1),n.showView(l)})})},enlistment_edit:function(t){var n=this,i=[],r=new c,s=new h(null,{filter:"TPs",children:!0}),o=new j({model:r,tps:s});this.app.navRegion.currentView.setHighlight("enlistments"),t?(r.id=t,i.push(r.fetch(),s.fetch()),a.loading(!0),e.when.apply(e,i).done(function(){a.loading(!1),n.showView(o)})):n.showView(o)}})}),window.requirejs=window.requirejs||{},function(e){e.config({baseUrl:"scripts/",paths:{jquery:["//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min","../vendor/jquery/jquery.min"],underscore:["//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min","../vendor/underscore/underscore-min"],backbone:["//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.0/backbone-min","../vendor/backbone/backbone-min"],handlebars:"../vendor/handlebars/handlebars.min",marionette:["//cdnjs.cloudflare.com/ajax/libs/backbone.marionette/1.5.1-bundled/backbone.marionette.min","../vendor/marionette/lib/backbone.marionette.min"],"jquery-bootstrap":["//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.0/js/bootstrap.min","../vendor/bootstrap/dist/bootstrap.min"],moment:["//cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min","../vendor/moment/moment.min"],fullcalendar:["//cdnjs.cloudflare.com/ajax/libs/fullcalendar/1.6.4/fullcalendar.min","../vendor/fullcalendar/fullcalendar.min"],nprogress:"../vendor/nprogress/nprogress",text:"../vendor/text/text",hbs:"../vendor/requirejs-hbs/hbs",json:"../vendor/requirejs-plugins/src/json",config:"config.dev"},shim:{underscore:{exports:"_"},backbone:{exports:"Backbone",deps:["jquery","underscore"]},handlebars:{exports:"Handlebars"},marionette:{exports:"Marionette",deps:["jquery","underscore","backbone"]},"jquery-jsonp":{deps:["jquery"]},"jquery-bootstrap":{deps:["jquery"]},fullcalendar:{deps:["jquery"]},nprogress:{exports:"NProgress"},"handlebars.helpers":{deps:["handlebars"]}},hbs:{templateExtension:".html"}}),require(["router"],function(e){window.DEBUG=!1,$.ajaxSetup({cache:!0,xhrFields:{withCredentials:!0}});var t=new Backbone.Marionette.Application;t.addRegions({mainRegion:"#main",navRegion:"#nav",flashRegion:"#flash"}),t.addInitializer(function(){new e({app:this}),Backbone.history.start()}),t.start()})}(window.requirejs),define("main",function(){});